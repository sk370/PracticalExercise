<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.49" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-v2-demo.mrhope.site/javaframe/mybatis.html"><meta property="og:site_name" content="æœ±å®‡ç¦"><meta property="og:title" content="MyBatis"><meta property="og:description" content="MyBatisæœ€åˆæ˜¯Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´6æœˆè¿™ä¸ªé¡¹ç›®ç”±Apache Software Foundationè¿ç§»åˆ°äº†Google Codeã€‚éšç€å¼€å‘å›¢é˜Ÿè½¬æŠ•Google Codeæ——ä¸‹ï¼Œ iBatis3.xæ­£å¼æ›´åä¸ºMyBatisã€‚ä»£ç äº2013å¹´11æœˆè¿ç§»åˆ°Githubã€‚"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="article:published_time" content="2022-07-27T00:00:00.000Z"><title>MyBatis | æœ±å®‡ç¦</title><meta name="description" content="Javaå¼€å‘ä¸ªäººçŸ¥è¯†åº“">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.e12d86fd.css">
    <link rel="modulepreload" href="/assets/app.b5795010.js"><link rel="modulepreload" href="/assets/mybatis.html.1d6aea26.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/mybatis.html.61cd77e5.js"><link rel="prefetch" href="/assets/about.html.cb7123e3.js"><link rel="prefetch" href="/assets/index.html.af3f4bfc.js"><link rel="prefetch" href="/assets/MySQL.html.826162cf.js"><link rel="prefetch" href="/assets/maven.html.9bb36588.js"><link rel="prefetch" href="/assets/mybatis-plus.html.eaf8c687.js"><link rel="prefetch" href="/assets/spring-boot.html.28bfae91.js"><link rel="prefetch" href="/assets/spring-mvc.html.97fa2929.js"><link rel="prefetch" href="/assets/spring5.html.3825d19d.js"><link rel="prefetch" href="/assets/ssm.html.b4ddd8e0.js"><link rel="prefetch" href="/assets/java-1.html.5450f139.js"><link rel="prefetch" href="/assets/java-2.html.051bbb84.js"><link rel="prefetch" href="/assets/java-3.html.7f1c2878.js"><link rel="prefetch" href="/assets/javaweb.html.95dcb090.js"><link rel="prefetch" href="/assets/404.html.d726b30e.js"><link rel="prefetch" href="/assets/index.html.5cab3570.js"><link rel="prefetch" href="/assets/index.html.90cc3bb8.js"><link rel="prefetch" href="/assets/index.html.acb5cd63.js"><link rel="prefetch" href="/assets/index.html.475144ed.js"><link rel="prefetch" href="/assets/index.html.e782eed2.js"><link rel="prefetch" href="/assets/index.html.16d171b2.js"><link rel="prefetch" href="/assets/index.html.5652f0e7.js"><link rel="prefetch" href="/assets/index.html.7d36e429.js"><link rel="prefetch" href="/assets/index.html.2cbbd98b.js"><link rel="prefetch" href="/assets/index.html.7e76503d.js"><link rel="prefetch" href="/assets/index.html.acc07b1c.js"><link rel="prefetch" href="/assets/index.html.164c33a6.js"><link rel="prefetch" href="/assets/index.html.8e9b3cfe.js"><link rel="prefetch" href="/assets/index.html.56d35abe.js"><link rel="prefetch" href="/assets/index.html.f097ea2d.js"><link rel="prefetch" href="/assets/index.html.b7554509.js"><link rel="prefetch" href="/assets/index.html.71aa4705.js"><link rel="prefetch" href="/assets/index.html.25365451.js"><link rel="prefetch" href="/assets/about.html.8d85a71a.js"><link rel="prefetch" href="/assets/index.html.896673be.js"><link rel="prefetch" href="/assets/MySQL.html.e5fda28c.js"><link rel="prefetch" href="/assets/maven.html.cf7a33a7.js"><link rel="prefetch" href="/assets/mybatis-plus.html.4506f634.js"><link rel="prefetch" href="/assets/spring-boot.html.72b3b9af.js"><link rel="prefetch" href="/assets/spring-mvc.html.7abd401a.js"><link rel="prefetch" href="/assets/spring5.html.b1c404c7.js"><link rel="prefetch" href="/assets/ssm.html.bd0c07cd.js"><link rel="prefetch" href="/assets/java-1.html.ef1266db.js"><link rel="prefetch" href="/assets/java-2.html.fa6b9aa1.js"><link rel="prefetch" href="/assets/java-3.html.647cb4fc.js"><link rel="prefetch" href="/assets/javaweb.html.87fc85c4.js"><link rel="prefetch" href="/assets/404.html.32ee93c4.js"><link rel="prefetch" href="/assets/index.html.2a7aa51e.js"><link rel="prefetch" href="/assets/index.html.f9a3f11b.js"><link rel="prefetch" href="/assets/index.html.85335f35.js"><link rel="prefetch" href="/assets/index.html.caee9c6b.js"><link rel="prefetch" href="/assets/index.html.486fbf92.js"><link rel="prefetch" href="/assets/index.html.04d53dae.js"><link rel="prefetch" href="/assets/index.html.e3e04d18.js"><link rel="prefetch" href="/assets/index.html.00be6942.js"><link rel="prefetch" href="/assets/index.html.be398c84.js"><link rel="prefetch" href="/assets/index.html.04e36366.js"><link rel="prefetch" href="/assets/index.html.83f65593.js"><link rel="prefetch" href="/assets/index.html.50577557.js"><link rel="prefetch" href="/assets/index.html.de291a54.js"><link rel="prefetch" href="/assets/index.html.b1103842.js"><link rel="prefetch" href="/assets/index.html.46f3da8e.js"><link rel="prefetch" href="/assets/index.html.219d8a8b.js"><link rel="prefetch" href="/assets/index.html.ae189603.js"><link rel="prefetch" href="/assets/index.html.f16012f8.js"><link rel="prefetch" href="/assets/404.940b8618.js"><link rel="prefetch" href="/assets/Layout.a2d3c614.js"><link rel="prefetch" href="/assets/Slide.55099168.js"><link rel="prefetch" href="/assets/Blog.b6bd909f.js"><link rel="prefetch" href="/assets/auto.esm.36809f22.js"><link rel="prefetch" href="/assets/index.daae04bf.js"><link rel="prefetch" href="/assets/index.1842ee54.js"><link rel="prefetch" href="/assets/mermaid.esm.min.ee1e0284.js"><link rel="prefetch" href="/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/assets/photoswipe.esm.092fbc15.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/3.jpg" alt="æœ±å®‡ç¦"><!----><span class="site-name hide-in-pad">æœ±å®‡ç¦</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="åšå®¢ä¸»é¡µ"><span class="icon iconfont icon-home"></span>åšå®¢ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="JavaSE"><span class="title"><span class="icon iconfont icon-creative"></span>JavaSE</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/javase/java-1.html" class="nav-link" aria-label="Javaè¯­è¨€åŸºç¡€ï¼ˆä¸Šï¼‰"><span class="icon iconfont icon-note"></span>Javaè¯­è¨€åŸºç¡€ï¼ˆä¸Šï¼‰<!----></a></li><li class="dropdown-item"><a href="/javase/java-2.html" class="nav-link" aria-label="Javaè¯­è¨€åŸºç¡€ï¼ˆä¸­ï¼‰"><span class="icon iconfont icon-note"></span>Javaè¯­è¨€åŸºç¡€ï¼ˆä¸­ï¼‰<!----></a></li><li class="dropdown-item"><a href="/javase/java-3.html" class="nav-link" aria-label="Javaè¯­è¨€åŸºç¡€ï¼ˆä¸‹ï¼‰"><span class="icon iconfont icon-note"></span>Javaè¯­è¨€åŸºç¡€ï¼ˆä¸‹ï¼‰<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/javaweb/javaweb.html" class="nav-link" aria-label="JavaWeb"><span class="icon iconfont icon-creative"></span>JavaWeb<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ•°æ®åº“"><span class="title"><span class="icon iconfont icon-creative"></span>æ•°æ®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/database/MySQL.html" class="nav-link" aria-label="MySQL"><span class="icon iconfont icon-note"></span>MySQL<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Javaæ¡†æ¶"><span class="title"><span class="icon iconfont icon-note"></span>Javaæ¡†æ¶</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ„å»ºå·¥å…·</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javaframe/maven.html" class="nav-link" aria-label="Maven"><span class="icon iconfont icon-note"></span>Maven<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Springæ¡†æ¶</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javaframe/spring5.html" class="nav-link" aria-label="Spring5"><span class="icon iconfont icon-note"></span>Spring5<!----></a></li><li class="dropdown-subitem"><a href="/javaframe/spring-mvc.html" class="nav-link" aria-label="SpringMVC"><span class="icon iconfont icon-note"></span>SpringMVC<!----></a></li><li class="dropdown-subitem"><a href="/javaframe/spring-boot.html" class="nav-link" aria-label="Spring Boot"><span class="icon iconfont icon-note"></span>Spring Boot<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æŒä¹…å±‚æ¡†æ¶</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-current="page" href="/javaframe/mybatis.html" class="router-link-active router-link-exact-active nav-link active" aria-label="Mybatis"><span class="icon iconfont icon-note"></span>Mybatis<!----></a></li><li class="dropdown-subitem"><a href="/javaframe/mybatis-plus.html" class="nav-link" aria-label="Mybatis-Plus"><span class="icon iconfont icon-note"></span>Mybatis-Plus<!----></a></li></ul></li><li class="dropdown-item"><a href="/javaframe/ssm.html" class="nav-link" aria-label="SSMæ•´åˆ"><span class="icon iconfont icon-note"></span>SSMæ•´åˆ<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/about.html" class="nav-link" aria-label="å…³äº"><span class="icon iconfont icon-note"></span>å…³äº<!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/sk370" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/" class="nav-link sidebar-link sidebar-page" aria-label="åšå®¢ä¸»é¡µ"><span class="icon iconfont icon-home"></span>åšå®¢ä¸»é¡µ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-note"></span><span class="title">JavaSE</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/javase/java-1.html" class="nav-link sidebar-link sidebar-page" aria-label="Javaè¯­è¨€åŸºç¡€ï¼ˆä¸Šï¼‰"><span class="icon iconfont icon-creative"></span>Javaè¯­è¨€åŸºç¡€ï¼ˆä¸Šï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/javase/java-2.html" class="nav-link sidebar-link sidebar-page" aria-label="Javaè¯­è¨€åŸºç¡€ï¼ˆä¸­ï¼‰"><span class="icon iconfont icon-creative"></span>Javaè¯­è¨€åŸºç¡€ï¼ˆä¸­ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/javase/java-3.html" class="nav-link sidebar-link sidebar-page" aria-label="Javaè¯­è¨€åŸºç¡€ï¼ˆä¸‹ï¼‰"><span class="icon iconfont icon-creative"></span>Javaè¯­è¨€åŸºç¡€ï¼ˆä¸‹ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><a href="/javaweb/javaweb.html" class="nav-link sidebar-link sidebar-page" aria-label="Java Web"><span class="icon iconfont icon-note"></span>Java Web<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-note"></span><span class="title">æ•°æ®åº“</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/database/MySQL.html" class="nav-link sidebar-link sidebar-page" aria-label="MySQL"><span class="icon iconfont icon-creative"></span>MySQL<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-note"></span><span class="title">Javaæ¡†æ¶</span><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">æ„å»ºå·¥å…·</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">Springæ¡†æ¶</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">SSMæ•´åˆ</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon iconfont icon-edit"></span>MyBatis</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" localizeddate="2022å¹´7æœˆ27æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="author-item">æœ±å®‡ç¦</span></span><span property="author" content="æœ±å®‡ç¦"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´7æœˆ27æ—¥</span><meta property="datePublished" content="2022-07-27T00:00:00.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down" localizeddate="2022å¹´7æœˆ27æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category3 clickable" role="navigation">æ¡†æ¶</li><li class="category category6 clickable" role="navigation">æŒä¹…å±‚</li><meta property="articleSection" content="æ¡†æ¶,æŒä¹…å±‚"></ul></span><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" localizeddate="2022å¹´7æœˆ27æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 38 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT38M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#ç¬¬1ç« -mybatiså…¥é—¨" class="router-link-active router-link-exact-active toc-link level2">ç¬¬1ç«  MyBatiså…¥é—¨</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_1-1-mybatisç®€ä»‹" class="router-link-active router-link-exact-active toc-link level3">1.1 MyBatisç®€ä»‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_1-2-ä½¿ç”¨mybatis" class="router-link-active router-link-exact-active toc-link level3">1.2 ä½¿ç”¨MyBatis</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_1-3-mybatisçš„å¢åˆ æ”¹æŸ¥" class="router-link-active router-link-exact-active toc-link level3">1.3 MyBatisçš„å¢åˆ æ”¹æŸ¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_1-4-æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£" class="router-link-active router-link-exact-active toc-link level3">1.4 æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#ç¬¬2ç« -mybatisè·å–å‚æ•°å€¼" class="router-link-active router-link-exact-active toc-link level2">ç¬¬2ç«  MyBatisè·å–å‚æ•°å€¼</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_2-1-è·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">2.1 è·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_2-2-è·å–å‚æ•°å€¼çš„å¤šç§æƒ…å†µ" class="router-link-active router-link-exact-active toc-link level3">2.2 è·å–å‚æ•°å€¼çš„å¤šç§æƒ…å†µ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#ç¬¬3ç« -mybatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½" class="router-link-active router-link-exact-active toc-link level2">ç¬¬3ç«  MyBatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_3-1-æŸ¥è¯¢è¿”å›ä¸åŒç±»å‹ã€æ•°é‡ç»“æœ" class="router-link-active router-link-exact-active toc-link level3">3.1 æŸ¥è¯¢è¿”å›ä¸åŒç±»å‹ã€æ•°é‡ç»“æœ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_3-2-ç‰¹æ®ŠsqlæŸ¥è¯¢" class="router-link-active router-link-exact-active toc-link level3">3.2 ç‰¹æ®ŠSQLæŸ¥è¯¢</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#ç¬¬4ç« -è‡ªå®šä¹‰æ˜ å°„resultmap" class="router-link-active router-link-exact-active toc-link level2">ç¬¬4ç«  è‡ªå®šä¹‰æ˜ å°„resultMap</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_4-1-resultmapå¤„ç†sqlå­—æ®µä¸pojoå±æ€§ä¸ä¸€è‡´é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">4.1 resultMapå¤„ç†sqlå­—æ®µä¸pojoå±æ€§ä¸ä¸€è‡´é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_4-2-å¤„ç†è¡¨ä¸­å¤šå¯¹ä¸€çš„æ˜ å°„å…³ç³»" class="router-link-active router-link-exact-active toc-link level3">4.2 å¤„ç†è¡¨ä¸­å¤šå¯¹ä¸€çš„æ˜ å°„å…³ç³»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_4-3-å¤„ç†è¡¨ä¸­ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»" class="router-link-active router-link-exact-active toc-link level3">4.3 å¤„ç†è¡¨ä¸­ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_4-4-åˆ†æ­¥æŸ¥è¯¢çš„ä¼˜ç‚¹" class="router-link-active router-link-exact-active toc-link level3">4.4 åˆ†æ­¥æŸ¥è¯¢çš„ä¼˜ç‚¹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#ç¬¬5ç« -åŠ¨æ€sql" class="router-link-active router-link-exact-active toc-link level2">ç¬¬5ç«  åŠ¨æ€SQL</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_5-1-if" class="router-link-active router-link-exact-active toc-link level3">5.1 &lt;if&gt;</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_5-2-where" class="router-link-active router-link-exact-active toc-link level3">5.2 &lt;where&gt;</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_5-3-trim" class="router-link-active router-link-exact-active toc-link level3">5.3 &lt;trim&gt;</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_5-4-choose-ã€-when-ã€-otherwise" class="router-link-active router-link-exact-active toc-link level3">5.4 &lt;choose&gt;ã€&lt;when&gt;ã€&lt;otherwise&gt;</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_5-5-foreach" class="router-link-active router-link-exact-active toc-link level3">5.5 &lt;foreach&gt;</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_5-6-sql-ç‰‡æ®µ" class="router-link-active router-link-exact-active toc-link level3">5.6 &lt;sql&gt;ç‰‡æ®µ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#ç¬¬6ç« -mybatisçš„ç¼“å­˜" class="router-link-active router-link-exact-active toc-link level2">ç¬¬6ç«  MyBatisçš„ç¼“å­˜</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_6-1-ä¸€çº§ç¼“å­˜-ä¸åŒæŸ¥è¯¢åœ¨åŒä¸€ä¸ªsqlsessionä¸‹" class="router-link-active router-link-exact-active toc-link level3">6.1 ä¸€çº§ç¼“å­˜ï¼ˆä¸åŒæŸ¥è¯¢åœ¨åŒä¸€ä¸ªsqlSessionä¸‹ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_6-2-äºŒçº§ç¼“å­˜-ä¸åŒæŸ¥è¯¢åœ¨åŒä¸€ä¸ªsqlsessionfactoryä¸‹" class="router-link-active router-link-exact-active toc-link level3">6.2 äºŒçº§ç¼“å­˜ï¼ˆä¸åŒæŸ¥è¯¢åœ¨åŒä¸€ä¸ªsqlSessionFactoryä¸‹ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_6-3-äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®" class="router-link-active router-link-exact-active toc-link level3">6.3 äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_6-4-mybatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº" class="router-link-active router-link-exact-active toc-link level3">6.4 MyBatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_6-5-æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜ehcache" class="router-link-active router-link-exact-active toc-link level3">6.5 æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜EHCache</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#â­ç¬¬7ç« -mybatisçš„é€†å‘å·¥ç¨‹" class="router-link-active router-link-exact-active toc-link level2">â­ç¬¬7ç«  MyBatisçš„é€†å‘å·¥ç¨‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_7-1-æ­£å‘å·¥ç¨‹ä¸é€†å‘å·¥ç¨‹" class="router-link-active router-link-exact-active toc-link level3">7.1 æ­£å‘å·¥ç¨‹ä¸é€†å‘å·¥ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_7-2-åˆ›å»ºmybatisçš„é€†å‘å·¥ç¨‹" class="router-link-active router-link-exact-active toc-link level3">7.2 åˆ›å»ºMyBatisçš„é€†å‘å·¥ç¨‹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#â­ç¬¬8ç« -åˆ†é¡µæ’ä»¶" class="router-link-active router-link-exact-active toc-link level2">â­ç¬¬8ç«  åˆ†é¡µæ’ä»¶</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_8-1-æ·»åŠ ä¾èµ–" class="router-link-active router-link-exact-active toc-link level3">8.1 æ·»åŠ ä¾èµ–</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_8-2-é…ç½®åˆ†é¡µæ’ä»¶" class="router-link-active router-link-exact-active toc-link level3">8.2 é…ç½®åˆ†é¡µæ’ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javaframe/mybatis.html#_8-3-ä½¿ç”¨åˆ†é¡µæŸ¥è¯¢" class="router-link-active router-link-exact-active toc-link level3">8.3 ä½¿ç”¨åˆ†é¡µæŸ¥è¯¢</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="mybatis" tabindex="-1"><a class="header-anchor" href="#mybatis" aria-hidden="true">#</a> MyBatis</h1><blockquote><ul><li>æŒä¹…å±‚æ¡†æ¶</li><li>ä¸Springã€SpringMVCæ— å…ˆåå­¦ä¹ å…³ç³»</li><li>éœ€è¦JDBCåŸºç¡€</li></ul></blockquote><h2 id="ç¬¬1ç« -mybatiså…¥é—¨" tabindex="-1"><a class="header-anchor" href="#ç¬¬1ç« -mybatiså…¥é—¨" aria-hidden="true">#</a> ç¬¬1ç«  MyBatiså…¥é—¨</h2><h3 id="_1-1-mybatisç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_1-1-mybatisç®€ä»‹" aria-hidden="true">#</a> 1.1 MyBatisç®€ä»‹</h3><h4 id="_1-1-1-mybatiså†å²" tabindex="-1"><a class="header-anchor" href="#_1-1-1-mybatiså†å²" aria-hidden="true">#</a> 1.1.1 MyBatiså†å²</h4><ul><li>MyBatisæœ€åˆæ˜¯Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®iBatis, 2010å¹´6æœˆè¿™ä¸ªé¡¹ç›®ç”±Apache Software Foundationè¿ç§»åˆ°äº†Google Codeã€‚éšç€å¼€å‘å›¢é˜Ÿè½¬æŠ•Google Codeæ——ä¸‹ï¼Œ iBatis3.xæ­£å¼æ›´åä¸ºMyBatisã€‚ä»£ç äº2013å¹´11æœˆè¿ç§»åˆ°Githubã€‚</li><li>iBatisä¸€è¯æ¥æºäºâ€œinternetâ€å’Œâ€œabatisâ€çš„ç»„åˆï¼Œæ˜¯ä¸€ä¸ªåŸºäºJavaçš„æŒä¹…å±‚æ¡†æ¶ã€‚ iBatisæä¾›çš„æŒä¹…å±‚æ¡†æ¶åŒ…æ‹¬SQL Mapså’ŒData Access Objectsï¼ˆDAOï¼‰ã€‚</li></ul><h4 id="_1-1-2-mybatisç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#_1-1-2-mybatisç‰¹æ€§" aria-hidden="true">#</a> 1.1.2 MyBatisç‰¹æ€§</h4><ol><li>MyBatis æ˜¯æ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„çš„ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ã€‚</li><li>MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†ã€‚</li><li>MyBatiså¯ä»¥ä½¿ç”¨ç®€å•çš„XMLæˆ–æ³¨è§£ç”¨äºé…ç½®å’ŒåŸå§‹æ˜ å°„ï¼Œå°†æ¥å£å’ŒJavaçš„POJOï¼ˆ<code>Plain Old Java Objects</code>ï¼Œæ™®é€šçš„Javaå¯¹è±¡ï¼‰æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ã€‚</li><li>MyBatis æ˜¯ä¸€ä¸ª åŠè‡ªåŠ¨çš„<code>ORM</code>ï¼ˆ<code>Object Relation Mapping</code>ï¼‰æ¡†æ¶ã€‚</li><li>MyBatisçš„é…ç½®æ–‡ä»¶åˆ†ä¸ºæ ¸å¿ƒé…ç½®æ–‡ä»¶å’Œæ˜ å°„é…ç½®æ–‡ä»¶ï¼Œæ ¸å¿ƒé…ç½®æ–‡ä»¶å†™é¡¹ç›®æ•°æ®åº“è¿æ¥å’ŒMyBatisçš„å…¨å±€é…ç½®ï¼Œæ˜ å°„é…ç½®å†™SQLè¯­å¥ã€‚</li></ol><h4 id="_1-1-3-mybatisä¸‹è½½" tabindex="-1"><a class="header-anchor" href="#_1-1-3-mybatisä¸‹è½½" aria-hidden="true">#</a> 1.1.3 MyBatisä¸‹è½½</h4><blockquote><p>MyBatisä¸‹è½½åœ°å€ï¼š</p></blockquote><h4 id="_1-1-4-å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#_1-1-4-å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”" aria-hidden="true">#</a> 1.1.4 å’Œå…¶å®ƒæŒä¹…åŒ–å±‚æŠ€æœ¯å¯¹æ¯”</h4><ol><li>JDBCï¼š <ul><li>SQL å¤¹æ‚åœ¨Javaä»£ç ä¸­è€¦åˆåº¦é«˜ï¼Œå¯¼è‡´ç¡¬ç¼–ç å†…ä¼¤</li><li>ç»´æŠ¤ä¸æ˜“ä¸”å®é™…å¼€å‘éœ€æ±‚ä¸­ SQL æœ‰å˜åŒ–ï¼Œé¢‘ç¹ä¿®æ”¹çš„æƒ…å†µå¤šè§</li><li>ä»£ç å†—é•¿ï¼Œå¼€å‘æ•ˆç‡ä½</li></ul></li><li>Hibernate å’Œ JPA <ul><li>æ“ä½œç®€ä¾¿ï¼Œå¼€å‘æ•ˆç‡é«˜</li><li>ç¨‹åºä¸­çš„é•¿éš¾å¤æ‚ SQL éœ€è¦ç»•è¿‡æ¡†æ¶</li><li>å†…éƒ¨è‡ªåŠ¨ç”Ÿäº§çš„ SQLï¼Œä¸å®¹æ˜“åšç‰¹æ®Šä¼˜åŒ–</li><li>åŸºäºå…¨æ˜ å°„çš„å…¨è‡ªåŠ¨æ¡†æ¶ï¼Œå¤§é‡å­—æ®µçš„ POJO è¿›è¡Œéƒ¨åˆ†æ˜ å°„æ—¶æ¯”è¾ƒå›°éš¾ã€‚</li><li>åå°„æ“ä½œå¤ªå¤šï¼Œå¯¼è‡´æ•°æ®åº“æ€§èƒ½ä¸‹é™ ã€‚</li></ul></li><li>MyBatis <ul><li>è½»é‡çº§ï¼Œæ€§èƒ½å‡ºè‰²</li><li>SQL å’Œ Java ç¼–ç åˆ†å¼€ï¼ŒåŠŸèƒ½è¾¹ç•Œæ¸…æ™°ã€‚Javaä»£ç ä¸“æ³¨ä¸šåŠ¡ã€SQLè¯­å¥ä¸“æ³¨æ•°æ®</li><li>å¼€å‘æ•ˆç‡ç¨é€ŠäºHIbernateï¼Œä½†æ˜¯å®Œå…¨èƒ½å¤Ÿæ¥å—</li></ul></li></ol><h3 id="_1-2-ä½¿ç”¨mybatis" tabindex="-1"><a class="header-anchor" href="#_1-2-ä½¿ç”¨mybatis" aria-hidden="true">#</a> 1.2 ä½¿ç”¨MyBatis</h3><h4 id="_1-2-1-ä½¿ç”¨mavenæ„å»ºç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#_1-2-1-ä½¿ç”¨mavenæ„å»ºç¯å¢ƒ" aria-hidden="true">#</a> 1.2.1 ä½¿ç”¨Mavenæ„å»ºç¯å¢ƒ</h4><ol><li>è½¯ä»¶ç‰ˆæœ¬ï¼š <ul><li>IDEAï¼š2021.2.4ã€ä¸3.8.6ç‰ˆæœ¬çš„Mavenç‰ˆæœ¬ä¸å…¼å®¹ã€‘</li><li>Mavenï¼š3.5.4</li><li>Mysqlï¼š5.7</li><li>MyBatisï¼š3.5.7</li></ul></li><li>åˆ›å»ºmavenå·¥ç¨‹ï¼šå‚è§ã€Maven ç¬¬4ç« <a href="https://www.yuque.com/zhuyuqi/zna9x5/ewwdt7#m3UvK" target="_blank" rel="noopener noreferrer">Maven<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‘ <ul><li>é¡¹ç›®ç»“æ„ï¼š <ul><li><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658789705228-62a84150-0441-463a-b573-ea65da2d72e0.png#clientId=u75362e1a-0f0f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=292&amp;id=ubde706cc&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=292&amp;originWidth=253&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=4220&amp;status=done&amp;style=none&amp;taskId=u6a88bc8c-8744-4720-91ea-bbbec8483cf&amp;title=&amp;width=253" alt="image.png" loading="lazy"></li></ul></li><li>ä¿®æ”¹<code>pro01-mybatis</code>æ‰“åŒ…æ–¹å¼ï¼šéœ€è¦ä¸ºjaråŒ…å½¢å¼ <ul><li><code>&lt;packaging&gt;jar&lt;/packaging&gt;</code></li></ul></li><li>åœ¨çˆ¶å·¥ç¨‹<code>12.MyBits</code>ä¸­æ·»åŠ é¡¹ç›®ä¾èµ–ï¼š</li></ul></li></ol><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- Mybatisæ ¸å¿ƒ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- junitæµ‹è¯• --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- MySQLé©±åŠ¨ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-2-é…ç½®mybatis" tabindex="-1"><a class="header-anchor" href="#_1-2-2-é…ç½®mybatis" aria-hidden="true">#</a> 1.2.2 é…ç½®mybatis</h4><ol><li>åˆ›å»ºMyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼š <ul><li>åœ¨<code>main/resources</code>ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œä¹ æƒ¯å‘½åä¸º<code>mybatis-config.xml</code>ï¼ˆåç§°æ— è¦æ±‚ï¼‰ï¼Œæ•´åˆSpringåï¼Œè¯¥æ–‡ä»¶å¯çœç•¥ã€‚</li><li>å®˜æ–¹æ–‡æ¡£<code>Getting Started</code>æä¾›äº†é…ç½®æ–‡ä»¶çš„æ¨¡æ¿ã€æ­£æ–‡ç¬¬3é¡µã€‘</li><li>æ ¹æ®æœ¬åœ°MySQLçš„é…ç½®ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶çš„å†…å®¹ã€‚ <ul><li><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658790632007-9d32c1f0-76c7-4cb8-8624-9778927c1c95.png#clientId=u75362e1a-0f0f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=526&amp;id=u88334d49&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=526&amp;originWidth=728&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=78066&amp;status=done&amp;style=none&amp;taskId=u3f95fc94-5d00-4797-983a-f9756846563&amp;title=&amp;width=728" alt="image.png" loading="lazy"></li></ul></li></ul></li><li>åˆ›å»ºmapperæ¥å£ï¼š <ul><li>åˆ›å»ºæ•°æ®è¡¨ï¼š</li></ul></li></ol><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>t_user<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>sex<span class="token punctuation">`</span></span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>email<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åˆ›å»ºpojoå®ä½“ï¼š</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">iceriver<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
* <span class="token keyword">@author</span>: INFINITY https://developer.aliyun.com/profile/sagwrxp2ua66w
* <span class="token keyword">@date</span>: 2022/7/26 7:18
*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> sex<span class="token punctuation">;</span><span class="token comment">//æ•°æ®åº“ä¸­æ–‡ä¸ºcharç±»å‹</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span> <span class="token class-name">Integer</span> age<span class="token punctuation">,</span> <span class="token class-name">String</span> sex<span class="token punctuation">,</span> <span class="token class-name">String</span> email<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> username<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getSex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> sex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setSex</span><span class="token punctuation">(</span><span class="token class-name">String</span> sex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> email<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token class-name">String</span> email<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åˆ›å»ºmapperæ¥å£ï¼š <ul><li>mapperæ¥å£ç›¸å½“äºserviceæ¥å£ï¼Œä½†ä¸éœ€è¦æä¾›å®ç°ç±» ï¼Œå®ç°ç±»ç”±MyBatisç”Ÿæˆã€‚</li></ul></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">iceriver<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span>: INFINITY https://developer.aliyun.com/profile/sagwrxp2ua66w
 * <span class="token keyword">@date</span>: 2022/7/26 7:22
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * æ·»åŠ ç”¨æˆ·
     * <span class="token keyword">@return</span> å—å½±å“çš„è¡Œæ•°
     */</span>
    <span class="token keyword">int</span> <span class="token function">insertUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>åˆ›å»ºMyBatisæ˜ å°„æ–‡ä»¶ï¼š <ul><li><code>ORM</code>ï¼š<code>Object Relationship Mapping</code>å¯¹è±¡å…³ç³»æ˜ å°„ã€‚ <ul><li>å¯¹è±¡ï¼šJavaçš„å®ä½“ç±»å¯¹è±¡ã€‚</li><li>å…³ç³»ï¼šå…³ç³»å‹æ•°æ®åº“ã€‚</li><li>æ˜ å°„ï¼šäºŒè€…ä¹‹é—´çš„å¯¹åº”å…³ç³» ã€‚</li></ul></li><li>Javaä¸æ•°æ®åº“çš„å¯¹åº”å…³ç³»ï¼š <ul><li>ç±»&lt;---&gt;è¡¨</li><li>å±æ€§&lt;---&gt;å­—æ®µ/åˆ—</li><li>å¯¹è±¡&lt;---&gt;è®°å½•/è¡Œ</li></ul></li><li>æ˜ å°„æ–‡ä»¶å‘½åè§„åˆ™ï¼š <ul><li>è¡¨æ‰€å¯¹åº”çš„å®ä½“ç±»çš„<code>ç±»å+Mapper.xml</code><ul><li>ä¾‹å¦‚ï¼šè¡¨t_userï¼Œæ˜ å°„çš„å®ä½“ç±»ä¸ºUserï¼Œæ‰€å¯¹åº”çš„æ˜ å°„æ–‡ä»¶ä¸º<code>UserMapper.xml</code></li></ul></li><li>ä¸€ä¸ªæ˜ å°„æ–‡ä»¶å¯¹åº”ä¸€ä¸ªå®ä½“ç±»ï¼Œå¯¹åº”ä¸€å¼ è¡¨çš„æ“ä½œ</li><li>MyBatisæ˜ å°„æ–‡ä»¶ç”¨äºç¼–å†™SQLï¼Œè®¿é—®ä»¥åŠæ“ä½œè¡¨ä¸­çš„æ•°æ®</li><li>MyBatisæ˜ å°„æ–‡ä»¶å­˜æ”¾çš„ä½ç½®æ˜¯<code>src/main/resources/mappers</code>ç›®å½•ä¸‹</li></ul></li><li>å®˜æ–¹æ–‡æ¡£<code>Getting Started</code>æä¾›äº†æ˜ å°„æ–‡ä»¶çš„æ¨¡æ¿ã€æ­£æ–‡ç¬¬4é¡µã€‘</li><li>æ˜ å°„æ–‡ä»¶é¡»ä¸mapperæ¥å£æ–‡ä»¶ä¿æŒä¸¤ä¸ªä¸€è‡´ï¼š <ul><li>æ˜ å°„æ–‡ä»¶çš„å‘½åç©ºé—´ï¼ˆnamespaceï¼‰å’Œmapperæ¥å£çš„å…¨ç±»åå’Œä¿æŒä¸€è‡´</li><li>æ˜ å°„æ–‡ä»¶ä¸­ç¼–å†™SQLçš„æ ‡ç­¾çš„idå±æ€§å’Œmapperæ¥å£ä¸­æ–¹æ³•çš„æ–¹æ³•åä¿æŒä¸€è‡´</li><li><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658793934195-11eb223e-e70a-415e-8d56-13586561d17e.png#clientId=u75362e1a-0f0f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=152&amp;id=u509bbf95&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=152&amp;originWidth=677&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=21170&amp;status=done&amp;style=none&amp;taskId=u6af685ff-c4a7-4efd-925b-3697c991c46&amp;title=&amp;width=677" alt="image.png" loading="lazy"></li></ul></li></ul></li><li>æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼•å…¥æ˜ å°„æ–‡ä»¶ï¼š <ul><li>ä»¥è·¯å¾„çš„å½¢å¼å¼•å…¥ï¼š <ul><li><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658792570667-ce4f45a6-d62c-4064-9fb5-148285a6a0ea.png#clientId=u75362e1a-0f0f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=94&amp;id=ua121363a&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=94&amp;originWidth=469&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=11118&amp;status=done&amp;style=none&amp;taskId=u97124be8-e423-4404-9419-b5dd7532942&amp;title=&amp;width=469" alt="image.png" loading="lazy"></li></ul></li></ul></li><li>æ‰§è¡Œæµ‹è¯•ï¼š <ul><li>åœ¨<code>src/test/java</code>ä¸‹åˆ›å»ºæµ‹è¯•ç›®å½•åŠæµ‹è¯•æ–‡ä»¶ <ul><li><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658794182068-7f177a9f-ef1a-4c44-9e4f-17d4ae882071.png#clientId=u75362e1a-0f0f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=81&amp;id=uddf7bcd9&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=81&amp;originWidth=254&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=4660&amp;status=done&amp;style=none&amp;taskId=ucacafb6d-71bc-4b8a-91f0-c6da5ad3887&amp;title=&amp;width=254" alt="image.png" loading="lazy"></li></ul></li><li>ç¼–å†™æµ‹è¯•æ–¹æ³•ï¼š</li></ul></li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">iceriver<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">iceriver<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">UserMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span>: INFINITY https://developer.aliyun.com/profile/sagwrxp2ua66w
 * <span class="token keyword">@date</span>: 2022/7/26 7:45
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserMapperTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testInsertUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. åŠ è½½æ ¸å¿ƒé…ç½®æ–‡ä»¶</span>
        <span class="token class-name">InputStream</span> istream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. è·å–SqlSessionFactoryBuilderå¯¹è±¡</span>
        <span class="token class-name">SqlSessionFactoryBuilder</span> sqlSessionFactoryBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3. è·å–SqlSessionFactoryå¯¹è±¡</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> sqlSessionFactoryBuilder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>istream<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4. è·å–SqlSessionå¯¹è±¡</span>
        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 5. è·å–mapperæ¥å£ï¼ˆå®ç°ç±»çš„ï¼‰å¯¹è±¡</span>
        <span class="token class-name">UserMapper</span> userMapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åº•å±‚ä½¿ç”¨äº†ä»£ç†æ¨¡å¼åˆ›å»ºå®ç°ç±»</span>
        <span class="token comment">// 6. è°ƒç”¨mapperæ¥å£æ–¹æ³•ï¼Œæ‰§è¡Œæµ‹è¯•</span>
        <span class="token keyword">int</span> result <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">insertUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 7. æäº¤äº‹åŠ¡</span>
        sqlSession<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç”±äºæ ¸å¿ƒé…ç½®æ–‡ä»¶å¼€å¯äº†äº‹åŠ¡ï¼š&lt;transactionManager type=&quot;JDBC&quot;/&gt;ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦æäº¤</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>  - ç¬¬4æ­¥ï¼šè·å–sqlsessionæ—¶ä¼ å…¥å‚æ•°`true`ï¼Œå³å¯è®¾ç½®ä¸ºè‡ªåŠ¨æäº¤äº‹åŠ¡
  - `SqlSession`ï¼šä»£è¡¨Javaç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„ä¼šè¯ã€‚ï¼ˆHttpSessionæ˜¯Javaç¨‹åºå’Œæµè§ˆå™¨ä¹‹é—´çš„ä¼šè¯ï¼‰
  - `SqlSessionFactory`ï¼šæ˜¯â€œç”Ÿäº§â€`SqlSession`çš„â€œå·¥å‚â€ã€‚
  - å·¥å‚æ¨¡å¼ï¼šå¦‚æœåˆ›å»ºæŸä¸€ä¸ªå¯¹è±¡ï¼Œä½¿ç”¨çš„è¿‡ç¨‹åŸºæœ¬å›ºå®šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æŠŠåˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„ç›¸å…³ä»£ç å°è£…åˆ°ä¸€ä¸ªâ€œå·¥å‚ç±»â€ä¸­ï¼Œä»¥åéƒ½ä½¿ç”¨è¿™ä¸ªå·¥å‚ç±»æ¥â€œç”Ÿäº§â€æˆ‘ä»¬éœ€è¦çš„å¯¹è±¡ã€‚ 
</code></pre><h4 id="_1-2-3-å¼•å…¥log4jæ—¥å¿—åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_1-2-3-å¼•å…¥log4jæ—¥å¿—åŠŸèƒ½" aria-hidden="true">#</a> 1.2.3 å¼•å…¥log4jæ—¥å¿—åŠŸèƒ½</h4><ol><li>åœ¨çˆ¶å·¥ç¨‹<code>pom.xml</code>ä¸­åŠ å…¥ä¾èµ–ï¼š <ul><li><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658795385123-6425e2ac-3dfb-40fb-ad61-736d1cd5df87.png#clientId=u75362e1a-0f0f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=139&amp;id=u42b6251c&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=139&amp;originWidth=299&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=10340&amp;status=done&amp;style=none&amp;taskId=uf034644b-b270-41ab-a4a1-feb56fe4490&amp;title=&amp;width=299" alt="image.png" loading="lazy"></li></ul></li><li>åœ¨å­å·¥ç¨‹<code>src/main/resources</code>ç›®å½•ä¸‹åˆ›å»º<code>log4j.xml</code></li></ol><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">log4j:configuration</span> <span class="token name">SYSTEM</span> <span class="token string">&quot;log4j.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">log4j:</span>configuration</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>log4j</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://jakarta.apache.org/log4j/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>STDOUT<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.apache.log4j.ConsoleAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Encoding<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.apache.log4j.PatternLayout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ConversionPattern<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>%-5p %d{MM-dd HH:mm:ss,SSS}%m (%F:%L) \n<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>java.sql<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>debug<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>logger</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.apache.ibatis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>logger</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>debug<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>STDOUT<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">log4j:</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ”¾åˆ°çˆ¶å·¥ç¨‹<code>src/main/resources</code>ç›®å½•ä¸‹æŠ¥é”™ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚</li><li><code>&lt;level value=&quot;debug&quot; /&gt;</code>ä¸­<code>debug</code>ä»£è¡¨è¾“å‡ºä¿¡æ¯çº§åˆ«çš„é«˜ä½ <ul><li><code>FATAL(è‡´å‘½)&gt;ERROR(é”™è¯¯)&gt;WARN(è­¦å‘Š)&gt;INFO(ä¿¡æ¯)&gt;DEBUG(è°ƒè¯•)</code></li><li>è¾“å‡ºçš„ä¿¡æ¯å†…å®¹è¯¦ç»†ç¨‹åº¦ä»å³è‡³å·¦æé«˜</li></ul></li></ul><h3 id="_1-3-mybatisçš„å¢åˆ æ”¹æŸ¥" tabindex="-1"><a class="header-anchor" href="#_1-3-mybatisçš„å¢åˆ æ”¹æŸ¥" aria-hidden="true">#</a> 1.3 MyBatisçš„å¢åˆ æ”¹æŸ¥</h3><h4 id="_1-3-1-æ·»åŠ " tabindex="-1"><a class="header-anchor" href="#_1-3-1-æ·»åŠ " aria-hidden="true">#</a> 1.3.1 æ·»åŠ </h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--  int insertUser();  --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertUser<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  insert into t_user values(null,&#39;admin&#39;,&#39;123456&#39;,23,&#39;å¥³&#39;,&#39;12315415@qq.com&#39;)
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-2-ä¿®æ”¹" tabindex="-1"><a class="header-anchor" href="#_1-3-2-ä¿®æ”¹" aria-hidden="true">#</a> 1.3.2 ä¿®æ”¹</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--  void updateUser();  --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateUser<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  update t_user set username = &#39;guest&#39; where id = 6
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-3-åˆ é™¤" tabindex="-1"><a class="header-anchor" href="#_1-3-3-åˆ é™¤" aria-hidden="true">#</a> 1.3.3 åˆ é™¤</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- void deleteUser(); --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deleteUser<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  delete from t_user where id = 8
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delete</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-4-æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_1-3-4-æŸ¥è¯¢" aria-hidden="true">#</a> 1.3.4 æŸ¥è¯¢</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- User getUserById(); --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getUserById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iceriver.mybatis.pojo.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * form t_user where id = 7
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- List&lt;User&gt; getAllUser(); --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAllUser<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iceriver.mybatis.pojo.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_user
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æŸ¥è¯¢çš„æ ‡ç­¾selectå¿…é¡»è®¾ç½®å±æ€§<code>resultType</code>æˆ–<code>resultMap</code>ï¼Œç”¨äºè®¾ç½®å®ä½“ç±»å’Œæ•°æ®åº“è¡¨çš„æ˜ å°„å…³ç³» <ul><li><code>resultType</code>ï¼šè‡ªåŠ¨æ˜ å°„ï¼Œç”¨äºå±æ€§åå’Œè¡¨ä¸­å­—æ®µåä¸€è‡´çš„æƒ…å†µ</li><li><code>resultMap</code>ï¼šè‡ªå®šä¹‰æ˜ å°„ï¼Œç”¨äºä¸€å¯¹å¤šæˆ–å¤šå¯¹ä¸€æˆ–å­—æ®µåå’Œå±æ€§åä¸ä¸€è‡´çš„æƒ…å†µ</li></ul></li><li>å½“æŸ¥è¯¢çš„æ•°æ®ä¸ºå¤šæ¡æ—¶ï¼Œä¸èƒ½ä½¿ç”¨å®ä½“ç±»ä½œä¸ºè¿”å›å€¼ï¼Œåªèƒ½ä½¿ç”¨é›†åˆï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸<code>TooManyResultsException</code>ï¼›ä½†æ˜¯è‹¥æŸ¥è¯¢çš„æ•°æ®åªæœ‰ä¸€æ¡ï¼Œå¯ä»¥ä½¿ç”¨å®ä½“ç±»æˆ–é›†åˆä½œä¸ºè¿”å›å€¼</li></ul><h3 id="_1-4-æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#_1-4-æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£" aria-hidden="true">#</a> 1.4 æ ¸å¿ƒé…ç½®æ–‡ä»¶è¯¦è§£</h3><h4 id="_1-4-1-æ–‡ä»¶æ ‡ç­¾" tabindex="-1"><a class="header-anchor" href="#_1-4-1-æ–‡ä»¶æ ‡ç­¾" aria-hidden="true">#</a> 1.4.1 æ–‡ä»¶æ ‡ç­¾</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//MyBatis.org//DTD Config 3.0//EN&quot;</span>
        <span class="token string">&quot;http://MyBatis.org/dtd/MyBatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--å¼•å…¥propertiesæ–‡ä»¶ï¼Œæ­¤æ—¶å°±å¯ä»¥${å±æ€§å}çš„æ–¹å¼è®¿é—®å±æ€§å€¼--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc.properties<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--
            typeAliasï¼šè®¾ç½®æŸä¸ªå…·ä½“çš„ç±»å‹çš„åˆ«å
            å±æ€§ï¼š typeï¼šéœ€è¦è®¾ç½®åˆ«åçš„ç±»å‹çš„å…¨ç±»å
                  aliasï¼šè®¾ç½®æ­¤ç±»å‹çš„åˆ«åï¼Œ
                        ï¼ˆ1ï¼‰è‹¥è®¾ç½®äº†typeï¼Œä½†æ²¡è®¾ç½®aliasï¼Œåˆ™UserMapper.xmlä¸­ï¼Œè¯¥ç±»å‹æ‹¥æœ‰é»˜è®¤çš„åˆ«åï¼Œå³ç±»åä¸”ä¸åŒºåˆ†å¤§å°å†™ã€‚
                        ï¼ˆ2ï¼‰è‹¥è®¾ç½®æ­¤å±æ€§ï¼Œåˆ™UserMapper.xmlä¸­ï¼Œæ­¤æ—¶è¯¥ç±»å‹çš„åˆ«ååªèƒ½ä½¿ç”¨aliasæ‰€è®¾ç½®çš„å€¼ã€‚
                        ï¼ˆ3ï¼‰è‹¥æ²¡æœ‰è®¾ç½®typeï¼Œä¹Ÿæ²¡è®¾ç½®aliasï¼Œåˆ™UserMapper.xmlä¸­åªèƒ½ä½¿ç”¨å¯¹åº”ç±»å‹çš„å…¨ç±»å
        --&gt;</span>
        <span class="token comment">&lt;!--&lt;typeAlias type=&quot;iceriver.mybatis.pojo.User&quot;/&gt;--&gt;</span>
        <span class="token comment">&lt;!--&lt;typeAlias type=&quot;iceriver.mybatis.pojo.User&quot; alias=&quot;abc&quot;&gt;&lt;/typeAlias&gt;--&gt;</span>
        <span class="token comment">&lt;!--ä»¥åŒ…ä¸ºå•ä½ï¼Œè®¾ç½®æ”¹åŒ…ä¸‹æ‰€æœ‰çš„ç±»å‹éƒ½æ‹¥æœ‰é»˜è®¤çš„åˆ«åï¼Œå³ç±»åä¸”ä¸åŒºåˆ†å¤§å°å†™--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iceriver.mybatis.pojo<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--
        environmentsï¼šè®¾ç½®å¤šä¸ªè¿æ¥æ•°æ®åº“çš„ç¯å¢ƒ
        å±æ€§ï¼šdefaultï¼šè®¾ç½®é»˜è®¤ä½¿ç”¨çš„ç¯å¢ƒçš„id
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mysql_test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--
            environmentï¼šè®¾ç½®å…·ä½“çš„è¿æ¥æ•°æ®åº“çš„ç¯å¢ƒä¿¡æ¯
            å±æ€§ï¼šidï¼šè®¾ç½®ç¯å¢ƒçš„å”¯ä¸€æ ‡è¯†ï¼Œå¯é€šè¿‡environmentsæ ‡ç­¾ä¸­çš„defaultè®¾ç½®æŸä¸€ä¸ªç¯å¢ƒçš„idï¼Œè¡¨ç¤ºé»˜è®¤ä½¿ç”¨çš„ç¯å¢ƒ
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mysql_test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--
                transactionManagerï¼šè®¾ç½®äº‹åŠ¡ç®¡ç†æ–¹å¼
                å±æ€§ï¼štypeï¼šè®¾ç½®äº‹åŠ¡ç®¡ç†æ–¹å¼ï¼Œtype=&quot;JDBC|MANAGED&quot;
                     type=&quot;JDBC&quot;ï¼šè®¾ç½®å½“å‰ç¯å¢ƒçš„äº‹åŠ¡ç®¡ç†éƒ½å¿…é¡»æ‰‹åŠ¨å¤„ç†
                     type=&quot;MANAGED&quot;ï¼šè®¾ç½®äº‹åŠ¡è¢«ç®¡ç†ï¼Œä¾‹å¦‚springä¸­çš„AOP
            --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!--
                dataSourceï¼šè®¾ç½®æ•°æ®æº
                å±æ€§ï¼štypeï¼šè®¾ç½®æ•°æ®æºçš„ç±»å‹ï¼Œtype=&quot;POOLED|UNPOOLED|JNDI&quot;
                    ï¼ˆ1ï¼‰type=&quot;POOLED&quot;ï¼šä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ï¼Œå³ä¼šå°†åˆ›å»ºçš„è¿æ¥è¿›è¡Œç¼“å­˜ï¼Œä¸‹æ¬¡ä½¿ç”¨å¯ä»¥ä»ç¼“å­˜ä¸­ç›´æ¥è·å–ï¼Œä¸éœ€è¦é‡æ–°åˆ›å»º
                    ï¼ˆ2ï¼‰type=&quot;UNPOOLED&quot;ï¼šä¸ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ï¼Œå³æ¯æ¬¡ä½¿ç”¨è¿æ¥éƒ½éœ€è¦é‡æ–°åˆ›å»º
                    ï¼ˆ3ï¼‰type=&quot;JNDI&quot;ï¼šè°ƒç”¨ä¸Šä¸‹æ–‡ä¸­çš„æ•°æ®æº
            --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!--è®¾ç½®é©±åŠ¨ç±»çš„å…¨ç±»å--&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token comment">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„è¿æ¥åœ°å€--&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token comment">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å--&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token comment">&lt;!--è®¾ç½®è¿æ¥æ•°æ®åº“çš„å¯†ç --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--å¼•å…¥æ˜ å°„æ–‡ä»¶--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--&lt;mapper resource=&quot;mappers/UserMapper.xml&quot;/&gt;--&gt;</span>
        <span class="token comment">&lt;!--
            ä»¥åŒ…ä¸ºå•ä½ï¼Œå°†åŒ…ä¸‹æ‰€æœ‰çš„æ˜ å°„æ–‡ä»¶å¼•å…¥æ ¸å¿ƒé…ç½®æ–‡ä»¶
            è¦æ±‚ï¼š1. mapperæ¥å£æ‰€åœ¨çš„åŒ…å’Œæ˜ å°„æ–‡ä»¶æ‰€åœ¨çš„åŒ…ä¸€è‡´
                 2. mapperæ¥å£çš„åå­—å’Œæ˜ å°„æ–‡ä»¶çš„åå­—ä¸€è‡´
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iceriver.mybatis.mapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­<code>&lt;configuration&gt;</code>çš„å­æ ‡ç­¾å¿…é¡»æŒ‰ç…§å›ºå®šçš„é¡ºåºä¹¦å†™ï¼š <ul><li><code>properties?,settings?,typeAliases?,typeHandlers?,objectFactory?,objectWrapperFactory?,reflectorFactory?,plugins?,environments?,databaseIdProvider?,mappers?</code></li></ul></li></ul><h4 id="_1-4-2-ideaä¸­è®¾ç½®é…ç½®æ–‡ä»¶æ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#_1-4-2-ideaä¸­è®¾ç½®é…ç½®æ–‡ä»¶æ¨¡æ¿" aria-hidden="true">#</a> 1.4.2 IDEAä¸­è®¾ç½®é…ç½®æ–‡ä»¶æ¨¡æ¿</h4><ol><li>æ ¸å¿ƒé…ç½®æ–‡ä»¶æ¨¡æ¿ï¼š <ul><li><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658806611584-4957a72e-5fba-474f-abfb-7b5144741501.png#clientId=u75362e1a-0f0f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=713&amp;id=udf094fdc&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=713&amp;originWidth=922&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=135170&amp;status=done&amp;style=none&amp;taskId=u104180a2-5ef4-43b2-ae9e-b2963e1d4af&amp;title=&amp;width=922" alt="image.png" loading="lazy"></li></ul></li><li>æ˜ å°„æ–‡ä»¶æ¨¡æ¿ï¼š <ul><li><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658806803791-ae5218a9-ecb0-4d82-9891-08cee9326f17.png#clientId=u75362e1a-0f0f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=713&amp;id=ue6954bcf&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=713&amp;originWidth=922&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=116040&amp;status=done&amp;style=none&amp;taskId=u2fa18a4c-d9ab-4245-9e9c-a0ecf07e9c5&amp;title=&amp;width=922" alt="image.png" loading="lazy"></li></ul></li></ol><h2 id="ç¬¬2ç« -mybatisè·å–å‚æ•°å€¼" tabindex="-1"><a class="header-anchor" href="#ç¬¬2ç« -mybatisè·å–å‚æ•°å€¼" aria-hidden="true">#</a> ç¬¬2ç«  MyBatisè·å–å‚æ•°å€¼</h2><h3 id="_2-1-è·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_2-1-è·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼" aria-hidden="true">#</a> 2.1 è·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼</h3><h4 id="_2-1-1-å­—ç¬¦ä¸²æ‹¼æ¥" tabindex="-1"><a class="header-anchor" href="#_2-1-1-å­—ç¬¦ä¸²æ‹¼æ¥" aria-hidden="true">#</a> 2.1.1 <code>${}</code>å­—ç¬¦ä¸²æ‹¼æ¥</h4><ol><li>æœ¬è´¨æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥</li><li>å‚æ•°ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·</li></ol><h4 id="_2-1-2-å ä½ç¬¦ã€ä¼˜å…ˆä½¿ç”¨ã€‘" tabindex="-1"><a class="header-anchor" href="#_2-1-2-å ä½ç¬¦ã€ä¼˜å…ˆä½¿ç”¨ã€‘" aria-hidden="true">#</a> 2.1.2 <code>#{}</code>å ä½ç¬¦ã€ä¼˜å…ˆä½¿ç”¨ã€‘</h4><ol><li>æœ¬è´¨æ˜¯å ä½ç¬¦èµ‹å€¼</li><li>å‚æ•°ä¸ºå­—ç¬¦ä¸²ç±»å‹æˆ–æ—¥æœŸç±»å‹çš„å­—æ®µè¿›è¡Œèµ‹å€¼æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨æ·»åŠ å•å¼•å·</li></ol><h3 id="_2-2-è·å–å‚æ•°å€¼çš„å¤šç§æƒ…å†µ" tabindex="-1"><a class="header-anchor" href="#_2-2-è·å–å‚æ•°å€¼çš„å¤šç§æƒ…å†µ" aria-hidden="true">#</a> 2.2 è·å–å‚æ•°å€¼çš„å¤šç§æƒ…å†µ</h3><h4 id="_2-2-1-å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_2-2-1-å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°" aria-hidden="true">#</a> 2.2.1 å•ä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</h4><ol><li><code>#{param}</code>ï¼šparamåç§°ä»»æ„ï¼Œå»ºè®®è§æ˜çŸ¥æ„</li><li><code>&#39;${param}&#39;</code>ï¼šparamåç§°ä»»æ„ï¼Œå»ºè®®è§æ˜çŸ¥æ„ï¼›æ³¨æ„å•å¼•å·<code>&#39;&#39;</code>ã€‚</li></ol><h4 id="_2-2-2-å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_2-2-2-å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°" aria-hidden="true">#</a> 2.2.2 å¤šä¸ªå­—é¢é‡ç±»å‹çš„å‚æ•°</h4><ol><li>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•å‚æ•°ä¸ºå¤šä¸ªæ—¶ï¼Œæ­¤æ—¶MyBatisä¼šè‡ªåŠ¨å°†è¿™äº›å‚æ•°æ”¾åœ¨ä¸€ä¸ªmapé›†åˆä¸­ï¼Œä»¥<code>arg0</code>,<code>arg1.</code>..ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›ä»¥<code>param1</code>,<code>param2</code>...ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼› <ul><li>æ³¨æ„<code>arg</code>ä»0å¼€å§‹ï¼Œ<code>param</code>ä»1å¼€å§‹</li></ul></li><li>å› æ­¤åªéœ€è¦é€šè¿‡<code>${}</code>å’Œ<code>#{}</code>è®¿é—®mapé›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ã€‚ <ul><li>æ³¨æ„<code>${}</code>éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·ã€‚</li></ul></li><li><code>arg0</code>å’Œ<code>param1</code>å¯ä»¥æ··ç”¨ï¼Œä½†è¦æ³¨æ„å…ˆåé¡ºåºã€‚</li></ol><h4 id="_2-2-3-mapé›†åˆç±»å‹çš„å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_2-2-3-mapé›†åˆç±»å‹çš„å‚æ•°" aria-hidden="true">#</a> 2.2.3 mapé›†åˆç±»å‹çš„å‚æ•°</h4><ul><li>è‹¥mapperæ¥å£ä¸­çš„æ–¹æ³•éœ€è¦çš„å‚æ•°ä¸ºå¤šä¸ªæ—¶ï¼Œæ­¤æ—¶å¯ä»¥æ‰‹åŠ¨åˆ›å»ºmapé›†åˆï¼Œå°†è¿™äº›æ•°æ®æ”¾åœ¨mapä¸­ï¼Œåªéœ€è¦é€šè¿‡<code>${}</code>å’Œ<code>#{}</code>è®¿é—®mapé›†åˆçš„é”®å°±å¯ä»¥è·å–ç›¸å¯¹åº”çš„å€¼ï¼Œæ³¨æ„<code>${}</code>éœ€è¦æ‰‹åŠ¨åŠ å•å¼•å·ã€‚ <ul><li>è¿™é‡Œçš„å‚æ•°åç§°æ˜¯è‡ªå®šä¹‰mapé›†åˆæ—¶æ”¾å…¥çš„åç§°ã€‚</li></ul></li></ul><h4 id="_2-2-4-å®ä½“ç±»ç±»å‹çš„å‚æ•°ã€å»ºè®®ä½¿ç”¨ã€‘" tabindex="-1"><a class="header-anchor" href="#_2-2-4-å®ä½“ç±»ç±»å‹çš„å‚æ•°ã€å»ºè®®ä½¿ç”¨ã€‘" aria-hidden="true">#</a> 2.2.4 å®ä½“ç±»ç±»å‹çš„å‚æ•°ã€å»ºè®®ä½¿ç”¨ã€‘</h4><ul><li>åŒ2.2.3çš„è®¿é—®æ–¹å¼ï¼Œä¼ å…¥çš„å‚æ•°åæ˜¯å®ä½“ç±»çš„å±æ€§åã€‚â€”â€”ä¸éœ€è¦ä½¿ç”¨<code>å¯¹è±¡å.å±æ€§å</code>çš„æ–¹å¼è°ƒç”¨ï¼Œç›´æ¥ä½¿ç”¨å±æ€§åã€‚</li></ul><h4 id="_2-2-5-ä½¿ç”¨-paramæ³¨è§£æ ‡è¯†å‚æ•°ã€å»ºè®®ä½¿ç”¨ã€‘" tabindex="-1"><a class="header-anchor" href="#_2-2-5-ä½¿ç”¨-paramæ³¨è§£æ ‡è¯†å‚æ•°ã€å»ºè®®ä½¿ç”¨ã€‘" aria-hidden="true">#</a> 2.2.5 ä½¿ç”¨<code>@param</code>æ³¨è§£æ ‡è¯†å‚æ•°ã€å»ºè®®ä½¿ç”¨ã€‘</h4><ol><li>è¯­å¥æ ¼å¼ï¼š<code>User checkLoginByParams(@Param(&quot;username&quot;) String username, @Param(&quot;password&quot;) String password);</code><ul><li>ç›¸å½“äºç»™å‚æ•°èµ·åˆ«åã€‚ä¼ å‚æ—¶åˆ«åèµ·çš„å•¥ï¼Œmapperæ˜ å°„æ–‡ä»¶å°±ä¼ å•¥ã€‚</li><li>æˆ–è€…ä»¥<code>param1</code>,<code>param2</code>...ä¸ºå‚æ•°</li></ul></li><li>æºç ï¼šé›†åˆä¸­ä¼šæ”¾2ç»„å‚æ•°ï¼š <ul><li>ä»¥<code>@Param</code>æ³¨è§£çš„<code>value</code>å±æ€§å€¼ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ï¼›</li><li>ä»¥<code>param1</code>,<code>param2</code>...ä¸ºé”®ï¼Œä»¥å‚æ•°ä¸ºå€¼ã€‚</li></ul></li></ol><h2 id="ç¬¬3ç« -mybatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#ç¬¬3ç« -mybatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½" aria-hidden="true">#</a> ç¬¬3ç«  MyBatisçš„å„ç§æŸ¥è¯¢åŠŸèƒ½</h2><blockquote><ul><li>å»ºè®®æŸ¥è¯¢è¯­å¥ä¸è¦å†™<code>;</code>ä»¥å…å°†å…¶ä½œä¸ºé€šç”¨æŸ¥è¯¢ï¼Œä¸å…¶ä»–æŸ¥è¯¢ç»„åˆæ—¶å‡ºç°é”™è¯¯ã€‚</li></ul></blockquote><h3 id="_3-1-æŸ¥è¯¢è¿”å›ä¸åŒç±»å‹ã€æ•°é‡ç»“æœ" tabindex="-1"><a class="header-anchor" href="#_3-1-æŸ¥è¯¢è¿”å›ä¸åŒç±»å‹ã€æ•°é‡ç»“æœ" aria-hidden="true">#</a> 3.1 æŸ¥è¯¢è¿”å›ä¸åŒç±»å‹ã€æ•°é‡ç»“æœ</h3><h4 id="_3-1-1-æŸ¥è¯¢è¿”å›ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_3-1-1-æŸ¥è¯¢è¿”å›ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡" aria-hidden="true">#</a> 3.1.1 æŸ¥è¯¢è¿”å›ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡</h4><ul><li>è¿”å›ä¸€ä¸ªæ•°æ®å¯ä»¥ä»¥å®ä½“ç±»å¯¹è±¡æˆ–é›†åˆæ¥æ”¶ã€‚</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
* <span class="token keyword">@param</span> <span class="token parameter">id</span>
* <span class="token keyword">@return</span>
*/</span>
<span class="token class-name">User</span> <span class="token function">getUserById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--User getUserById(@Param(&quot;id&quot;) int id);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getUserById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_user where id = #{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-2-æŸ¥è¯¢è¿”å›ä¸€ä¸ªlisté›†åˆ" tabindex="-1"><a class="header-anchor" href="#_3-1-2-æŸ¥è¯¢è¿”å›ä¸€ä¸ªlisté›†åˆ" aria-hidden="true">#</a> 3.1.2 æŸ¥è¯¢è¿”å›ä¸€ä¸ªListé›†åˆ</h4><ul><li>è¿”å›å¤šä¸ªæ•°æ®åªèƒ½é€šè¿‡é›†åˆæ¥æ”¶ã€‚</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯
* <span class="token keyword">@return</span>
*/</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUserList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--List&lt;User&gt; getUserList();--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getUserList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_user
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-3-æŸ¥è¯¢è¿”å›å•ä¸ªæ•°æ®" tabindex="-1"><a class="header-anchor" href="#_3-1-3-æŸ¥è¯¢è¿”å›å•ä¸ªæ•°æ®" aria-hidden="true">#</a> 3.1.3 æŸ¥è¯¢è¿”å›å•ä¸ªæ•°æ®</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* æŸ¥è¯¢ç”¨æˆ·çš„æ€»è®°å½•æ•°
* <span class="token keyword">@return</span>
*/</span>
<span class="token keyword">int</span> <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--
  åœ¨MyBatisæ˜ å°„æ–‡ä»¶çš„resultTypeä¸­ï¼Œå¯¹äºJavaä¸­å¸¸ç”¨çš„ç±»å‹éƒ½è®¾ç½®äº†ç±»å‹åˆ«å
  ä¾‹å¦‚ï¼šjava.lang.Integer--&gt;</span>int|integer
  ä¾‹å¦‚ï¼šint--&gt;_int|_integer
  ä¾‹å¦‚ï¼šMap--&gt;map,List--&gt;list
--&gt;
<span class="token comment">&lt;!--int getCount();--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getCount<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_integer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select count(id) from t_user
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åˆ«åå‚è§å®˜æ–¹æ–‡æ¡£ç¬¬15-16é¡µ <ul><li><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658839664147-fb3f0591-2275-42e9-93fd-2ed0511695c7.png#clientId=u75362e1a-0f0f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=356&amp;id=u87618e2d&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=356&amp;originWidth=654&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=31593&amp;status=done&amp;style=none&amp;taskId=u8a46d85b-8928-499f-aa8f-4ba48876cbe&amp;title=&amp;width=654" alt="image.png" loading="lazy"></li><li><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658839686192-12915529-45d2-41a8-a6be-9442acca3b8c.png#clientId=u75362e1a-0f0f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=313&amp;id=u11de14cf&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=313&amp;originWidth=654&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=33985&amp;status=done&amp;style=none&amp;taskId=uc4d51d32-675f-4f2c-a1c5-a304682f948&amp;title=&amp;width=654" alt="image.png" loading="lazy"></li></ul></li></ul><h4 id="_3-1-4-æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ" tabindex="-1"><a class="header-anchor" href="#_3-1-4-æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ" aria-hidden="true">#</a> 3.1.4 æŸ¥è¯¢ä¸€æ¡æ•°æ®ä¸ºmapé›†åˆ</h4><ul><li>å°†å®ä½“ç±»å¯¹è±¡è½¬æ¢ä¸ºmapé›†åˆï¼Œæˆ–å®ä½“ç±»å¯¹è±¡çš„éƒ¨åˆ†æ•°æ®è½¬æ¢ä¸ºé›†åˆã€‚</li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ
* <span class="token keyword">@param</span> <span class="token parameter">id</span>
* <span class="token keyword">@return</span>
*/</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">getUserToMap</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--Map&lt;String, Object&gt; getUserToMap(@Param(&quot;id&quot;) int id);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getUserToMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_user where id = #{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--ç»“æœï¼š{password=123456, sex=ç”·, id=1, age=23, username=admin}--&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-5-æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ" tabindex="-1"><a class="header-anchor" href="#_3-1-5-æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ" aria-hidden="true">#</a> 3.1.5 æŸ¥è¯¢å¤šæ¡æ•°æ®ä¸ºmapé›†åˆ</h4><ol><li>æ–¹å¼ä¸€ï¼š</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ
* <span class="token keyword">@return</span>
* å°†è¡¨ä¸­çš„æ•°æ®ä»¥mapé›†åˆçš„æ–¹å¼æŸ¥è¯¢ï¼Œä¸€æ¡æ•°æ®å¯¹åº”ä¸€ä¸ªmapï¼›è‹¥æœ‰å¤šæ¡æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¤šä¸ªmapé›†åˆï¼Œæ­¤
æ—¶å¯ä»¥å°†è¿™äº›mapæ”¾åœ¨ä¸€ä¸ªlisté›†åˆä¸­è·å–
*/</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllUserToMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--List&lt;Map&lt;String, Object&gt;&gt; getAllUserToMap();--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAllUserToMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_user
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>æ–¹å¼äºŒï¼š <ul><li>ä½¿ç”¨mapé›†åˆæ¥æ”¶ï¼Œå¯ä»¥ç”¨<code>@MapKey(&quot;str&quot;)</code>æŒ‡å®šæŸä¸ªå­—æ®µä¸ºmapé›†åˆçš„é”®ï¼Œæ³¨æ„æŒ‡å®šä¸ºé”®çš„å±æ€§å¿…é¡»ä¸èƒ½é‡å¤ã€‚</li></ul></li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ä¸ºmapé›†åˆ
* <span class="token keyword">@return</span>
* å°†è¡¨ä¸­çš„æ•°æ®ä»¥mapé›†åˆçš„æ–¹å¼æŸ¥è¯¢ï¼Œä¸€æ¡æ•°æ®å¯¹åº”ä¸€ä¸ªmapï¼›è‹¥æœ‰å¤šæ¡æ•°æ®ï¼Œå°±ä¼šäº§ç”Ÿå¤šä¸ªmapé›†åˆï¼Œå¹¶
ä¸”æœ€ç»ˆè¦ä»¥ä¸€ä¸ªmapçš„æ–¹å¼è¿”å›æ•°æ®ï¼Œæ­¤æ—¶éœ€è¦é€šè¿‡@MapKeyæ³¨è§£è®¾ç½®mapé›†åˆçš„é”®ï¼Œå€¼æ˜¯æ¯æ¡æ•°æ®æ‰€å¯¹åº”çš„
mapé›†åˆ
*/</span>
<span class="token annotation punctuation">@MapKey</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllUserToMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--Map&lt;String, Object&gt; getAllUserToMap();--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAllUserToMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_user
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
ç»“æœï¼š
<span class="token comment">&lt;!--
  {
    1={password=123456, sex=ç”·, id=1, age=23, username=admin},
    2={password=123456, sex=ç”·, id=2, age=23, username=å¼ ä¸‰},
    3={password=123456, sex=ç”·, id=3, age=23, username=å¼ ä¸‰}
  } 
--&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-ç‰¹æ®ŠsqlæŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_3-2-ç‰¹æ®ŠsqlæŸ¥è¯¢" aria-hidden="true">#</a> 3.2 ç‰¹æ®ŠSQLæŸ¥è¯¢</h3><h4 id="_3-2-1-æ¨¡ç³ŠæŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_3-2-1-æ¨¡ç³ŠæŸ¥è¯¢" aria-hidden="true">#</a> 3.2.1 æ¨¡ç³ŠæŸ¥è¯¢</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* æµ‹è¯•æ¨¡ç³ŠæŸ¥è¯¢
* <span class="token keyword">@param</span> <span class="token parameter">mohu</span>
* <span class="token keyword">@return</span>
*/</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">testMohu</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;mohu&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> mohu<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--List&lt;User&gt; testMohu(@Param(&quot;mohu&quot;) String mohu);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testMohu<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--select * from t_user where username like &#39;%${mohu}%&#39;--&gt;</span>
  <span class="token comment">&lt;!--select * from t_user where username like concat(&#39;%&#39;,#{mohu},&#39;%&#39;)--&gt;</span>
  select * from t_user where username like &quot;%&quot;#{mohu}&quot;%&quot;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ³¨æ„<code>${}</code>å•å¼•å·ä¸<code>#{}</code>åŒå¼•å·çš„åŒºåˆ«ã€‚</li></ul><h4 id="_3-2-2-æ‰¹é‡åˆ é™¤" tabindex="-1"><a class="header-anchor" href="#_3-2-2-æ‰¹é‡åˆ é™¤" aria-hidden="true">#</a> 3.2.2 æ‰¹é‡åˆ é™¤</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* æ‰¹é‡åˆ é™¤
* <span class="token keyword">@param</span> <span class="token parameter">ids</span>
* <span class="token keyword">@return</span>
*/</span>
<span class="token keyword">int</span> <span class="token function">deleteMore</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;ids&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> ids<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--int deleteMore(@Param(&quot;ids&quot;) String ids);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deleteMore<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  delete from t_user where id in (${ids})
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delete</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸èƒ½ä½¿ç”¨<code>#{}</code>ï¼Œå› ä¸ºSQLè¯­å¥ä¸­ï¼Œ<code>in</code>çš„æ‹¬å·ä¸­ä¸èƒ½å†™å¼•å·ï¼Œè€Œ<code>#{}</code>ä¼šè‡ªåŠ¨æ·»åŠ å•å¼•å· <ul><li><code>in (1,2,3)</code></li></ul></li></ul><h4 id="_3-2-3-åŠ¨æ€è®¾ç½®è¡¨å" tabindex="-1"><a class="header-anchor" href="#_3-2-3-åŠ¨æ€è®¾ç½®è¡¨å" aria-hidden="true">#</a> 3.2.3 åŠ¨æ€è®¾ç½®è¡¨å</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* åŠ¨æ€è®¾ç½®è¡¨åï¼ŒæŸ¥è¯¢æ‰€æœ‰çš„ç”¨æˆ·ä¿¡æ¯
* <span class="token keyword">@param</span> <span class="token parameter">tableName</span>
* <span class="token keyword">@return</span>
*/</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;tableName&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> tableName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--List&lt;User&gt; getAllUser(@Param(&quot;tableName&quot;) String tableName);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAllUser<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from ${tableName}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸èƒ½ä½¿ç”¨<code>#{}</code>ï¼Œå› ä¸ºSQLè¯­å¥ä¸­ï¼Œè¡¨æ˜ä¸èƒ½å†™å¼•å·ï¼Œè€Œ<code>#{}</code>ä¼šè‡ªåŠ¨æ·»åŠ å•å¼•å·</li></ul><h4 id="_3-2-4-æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®" tabindex="-1"><a class="header-anchor" href="#_3-2-4-æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®" aria-hidden="true">#</a> 3.2.4 æ·»åŠ åŠŸèƒ½è·å–è‡ªå¢çš„ä¸»é”®</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* æ·»åŠ ç”¨æˆ·ä¿¡æ¯
* <span class="token keyword">@param</span> <span class="token parameter">user</span>
* <span class="token keyword">@return</span>
* useGeneratedKeysï¼šè®¾ç½®ä½¿ç”¨è‡ªå¢çš„ä¸»é”®
* keyPropertyï¼šå› ä¸ºå¢åˆ æ”¹æœ‰ç»Ÿä¸€çš„è¿”å›å€¼æ˜¯å—å½±å“çš„è¡Œæ•°ï¼Œå› æ­¤åªèƒ½å°†è·å–çš„è‡ªå¢çš„ä¸»é”®æ”¾åœ¨ä¼ è¾“çš„å‚
æ•°userå¯¹è±¡çš„æŸä¸ªå±æ€§ä¸­
*/</span>
<span class="token keyword">int</span> <span class="token function">insertUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--int insertUser(User user);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertUser<span class="token punctuation">&quot;</span></span> <span class="token attr-name">useGeneratedKeys</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  insert into t_user values(null,#{username},#{password},#{age},#{sex})
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>MySQLæ·»åŠ æ•°æ®åï¼Œè¿”å›çš„æ˜¯å—å½±å“çš„è¡Œæ•°ï¼Œæ‰€ä»¥æ— æ³•ç›´æ¥è¿”å›æ–°å¢çš„ä¸»é”®å€¼ï¼Œä½†å¯ä»¥é€šè¿‡è¿”å›æ·»åŠ çš„å¯¹è±¡ï¼Œé€šè¿‡å¯¹è±¡å»è°ƒç”¨ä¸»é”®å€¼ã€‚</li><li>åŸç”ŸJDBCè·å–ä¸»é”®çš„æ–¹å¼ï¼š <ul><li>éå†ç»“æœé›†å¯ä»¥è·å¾—ä¸»é”®</li></ul></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testJDBC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span><span class="token string">&quot;insert&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Statement</span><span class="token punctuation">.</span>RETURN_GENERATED_KEYS<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ResultSet</span> resultSet <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">getGeneratedKeys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¬¬4ç« -è‡ªå®šä¹‰æ˜ å°„resultmap" tabindex="-1"><a class="header-anchor" href="#ç¬¬4ç« -è‡ªå®šä¹‰æ˜ å°„resultmap" aria-hidden="true">#</a> ç¬¬4ç«  è‡ªå®šä¹‰æ˜ å°„resultMap</h2><h3 id="_4-1-resultmapå¤„ç†sqlå­—æ®µä¸pojoå±æ€§ä¸ä¸€è‡´é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_4-1-resultmapå¤„ç†sqlå­—æ®µä¸pojoå±æ€§ä¸ä¸€è‡´é—®é¢˜" aria-hidden="true">#</a> 4.1 resultMapå¤„ç†sqlå­—æ®µä¸pojoå±æ€§ä¸ä¸€è‡´é—®é¢˜</h3><h4 id="_4-1-1-sqlè¯­å¥ä½¿ç”¨åˆ«åæ–¹å¼ä¸pojoå±æ€§å¯¹åº”" tabindex="-1"><a class="header-anchor" href="#_4-1-1-sqlè¯­å¥ä½¿ç”¨åˆ«åæ–¹å¼ä¸pojoå±æ€§å¯¹åº”" aria-hidden="true">#</a> 4.1.1 sqlè¯­å¥ä½¿ç”¨åˆ«åæ–¹å¼ä¸pojoå±æ€§å¯¹åº”</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--List&lt;Emp&gt; getAllEmp();--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAllEmp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select eid,emp_name empName,age,sex gender,email from t_emp
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658884623220-a8e514e0-b539-4daa-9e64-98845f1cd88e.png#clientId=u262beab3-6cd1-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=115&amp;id=uafc71758&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=115&amp;originWidth=655&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=24857&amp;status=done&amp;style=none&amp;taskId=ua1725f06-b427-4223-a90e-96baa59f5ee&amp;title=&amp;width=655" alt="image.png" loading="lazy"></p><h4 id="_4-1-2-è®¾ç½®å…¨å±€é…ç½®å°†-è‡ªåŠ¨æ˜ å°„ä¸ºé©¼å³°" tabindex="-1"><a class="header-anchor" href="#_4-1-2-è®¾ç½®å…¨å±€é…ç½®å°†-è‡ªåŠ¨æ˜ å°„ä¸ºé©¼å³°" aria-hidden="true">#</a> 4.1.2 è®¾ç½®å…¨å±€é…ç½®å°†<code>_</code>è‡ªåŠ¨æ˜ å°„ä¸ºé©¼å³°</h4><ol><li><code>mybatis-config.xml</code>æ–‡ä»¶ä¸­å¼€å¯<code>resultMap</code>å…¨å±€é…ç½® <ul><li>å®˜æ–¹æ–‡æ¡£æ­£æ–‡ç¬¬12é¡µ</li></ul></li></ol><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--è®¾ç½®MyBatisçš„å…¨å±€é…ç½®--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--å°† _ è‡ªåŠ¨æ˜ å°„ä¸ºé©¼å³°ï¼Œemp_name:empName--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapUnderscoreToCamelCase<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--List&lt;Emp&gt; getAllEmp();--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAllEmp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_emp
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658884742398-9f2d9136-8e83-4e56-9a8e-75209e654938.png#clientId=u262beab3-6cd1-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=119&amp;id=u90d2c1e3&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=119&amp;originWidth=677&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=24766&amp;status=done&amp;style=none&amp;taskId=u71a73ebe-e6ab-4580-aa39-7ec20fecfe6&amp;title=&amp;width=677" alt="image.png" loading="lazy"></p><h4 id="_4-1-3-å½“å‰mapperæ˜ å°„æ–‡ä»¶ä¸­è¿›è¡Œè‡ªå®šä¹‰è®¾ç½®" tabindex="-1"><a class="header-anchor" href="#_4-1-3-å½“å‰mapperæ˜ å°„æ–‡ä»¶ä¸­è¿›è¡Œè‡ªå®šä¹‰è®¾ç½®" aria-hidden="true">#</a> 4.1.3 å½“å‰mapperæ˜ å°„æ–‡ä»¶ä¸­è¿›è¡Œè‡ªå®šä¹‰è®¾ç½®</h4><ul><li>å¯ä»¥ä¸å°†è¡¨çš„æ‰€æœ‰å­—æ®µéƒ½è®¾ç½®ï¼Œå¦‚å­—æ®µæœ¬èº«ä¸å±æ€§åä¸€è‡´æ—¶å¯ä¸è®¾ç½®ï¼Œä½†å»ºè®®å…¨éƒ¨è¿›è¡Œè®¾ç½®ã€‚ <ul><li>ä¸éœ€è¦å¼€å¯å…¨å±€æ˜ å°„ã€‚</li><li>å¯ä»¥è®¾ç½®åˆ«åæ˜ å°„ï¼Œæ¯”å¦‚å°†å­—æ®µsexæ˜ å°„ä¸ºå±æ€§genderã€‚</li><li>æ³¨æ„ï¼š<code>&lt;select&gt;</code>çš„<code>resultMap</code>å±æ€§å€¼ï¼Œå¿…é¡»ä¸<code>&lt;resultMap&gt;</code>çš„<code>id</code>å±æ€§å€¼å¯¹åº”</li></ul></li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--
  resultMapï¼šè®¾ç½®è‡ªå®šä¹‰æ˜ å°„å…³ç³»
    idï¼šå”¯ä¸€æ ‡è¯†ï¼Œä¸èƒ½é‡å¤
    typeï¼šè®¾ç½®æ˜ å°„å…³ç³»ä¸­çš„å®ä½“ç±»ç±»å‹
  å­æ ‡ç­¾ï¼š
  idï¼šè®¾ç½®ä¸»é”®çš„æ˜ å°„å…³ç³»(ä¸»é”®çš„æ˜ å°„æ— è®ºæ˜¯å¦ä¸€è‡´ï¼Œéƒ½å¿…é¡»å†™)
  resultï¼šè®¾ç½®æ™®é€šå­—æ®µçš„æ˜ å°„å…³ç³»
    propertyï¼šè®¾ç½®æ˜ å°„å…³ç³»ä¸­çš„å±æ€§åï¼Œå¿…é¡»æ˜¯typeå±æ€§æ‰€è®¾ç½®çš„å®ä½“ç±»ç±»å‹ä¸­çš„å±æ€§å
    columnï¼šè®¾ç½®æ˜ å°„å…³ç³»ä¸­çš„å­—æ®µåï¼Œå¿…é¡»æ˜¯sqlè¯­å¥æŸ¥è¯¢å‡ºçš„å­—æ®µå
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empResultMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--List&lt;Emp&gt; getAllEmp();--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getAllEmp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_emp
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658885162323-bfa70c1a-532a-41f9-b9da-e23d7e2187c8.png#clientId=u262beab3-6cd1-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=118&amp;id=u0ce6c0a3&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=118&amp;originWidth=659&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=24908&amp;status=done&amp;style=none&amp;taskId=uda1f4e8c-5fea-4afb-a5e5-66ec6529aee&amp;title=&amp;width=659" alt="image.png" loading="lazy"></p><h3 id="_4-2-å¤„ç†è¡¨ä¸­å¤šå¯¹ä¸€çš„æ˜ å°„å…³ç³»" tabindex="-1"><a class="header-anchor" href="#_4-2-å¤„ç†è¡¨ä¸­å¤šå¯¹ä¸€çš„æ˜ å°„å…³ç³»" aria-hidden="true">#</a> 4.2 å¤„ç†è¡¨ä¸­å¤šå¯¹ä¸€çš„æ˜ å°„å…³ç³»</h3><blockquote><ul><li>ä¸€å¯¹å¤šï¼šå®ä½“ç±»ä¸­æœ‰ä¸ªå±æ€§æ˜¯å®ä½“ç±»å¯¹è±¡ã€‚</li></ul></blockquote><h4 id="_4-2-1-çº§è”èµ‹å€¼" tabindex="-1"><a class="header-anchor" href="#_4-2-1-çº§è”èµ‹å€¼" aria-hidden="true">#</a> 4.2.1 çº§è”èµ‹å€¼</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code> <span class="token comment">&lt;!--å¤„ç†å¤šå¯¹ä¸€æ˜ å°„å…³ç³»æ–¹å¼ä¸€ï¼šçº§è”å±æ€§èµ‹å€¼--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empAndDeptResultMapOne<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept.did<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>did<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept.deptName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--Emp getEmpAndDept(@Param(&quot;eid&quot;) Integer eid);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpAndDept<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empAndDeptResultMapOne<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_emp left join t_dept on t_emp.did = t_dept .did where t_emp.eid = #{eid}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658886106614-6070d82e-083e-4669-b588-8c9f582471ad.png#clientId=u262beab3-6cd1-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=336&amp;id=uc864e0e8&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=336&amp;originWidth=775&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=74277&amp;status=done&amp;style=none&amp;taskId=ucc7504f8-cd98-4791-b5a2-e7ddb565d89&amp;title=&amp;width=775" alt="image.png" loading="lazy"><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658886114813-b619e617-b733-4ec9-819f-51526004503d.png#clientId=u262beab3-6cd1-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=21&amp;id=uf1324d9a&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=21&amp;originWidth=901&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=5723&amp;status=done&amp;style=none&amp;taskId=u5a498ce0-94b1-41f4-9b47-8e15323b133&amp;title=&amp;width=901" alt="image.png" loading="lazy"></p><h4 id="_4-2-2-ä½¿ç”¨-association-æ ‡ç­¾åŠå…¶å­æ ‡ç­¾" tabindex="-1"><a class="header-anchor" href="#_4-2-2-ä½¿ç”¨-association-æ ‡ç­¾åŠå…¶å­æ ‡ç­¾" aria-hidden="true">#</a> 4.2.2 ä½¿ç”¨<code>&lt;association&gt;</code>æ ‡ç­¾åŠå…¶å­æ ‡ç­¾</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--å¤„ç†å¤šå¯¹ä¸€æ˜ å°„å…³ç³»æ–¹å¼äºŒï¼šassociation--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empAndDeptResultMapTwo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--
    association:å¤„ç†å¤šå¯¹ä¸€çš„æ˜ å°„å…³ç³»
    property:éœ€è¦å¤„ç†å¤šå¯¹çš„æ˜ å°„å…³ç³»çš„å±æ€§å
    javaType:è¯¥å±æ€§çš„ç±»å‹
  --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept<span class="token punctuation">&quot;</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Dept<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>did<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>did<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deptName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--Emp getEmpAndDept(@Param(&quot;eid&quot;) Integer eid);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpAndDept<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empAndDeptResultMapTwo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_emp left join t_dept on t_emp.did = t_dept .did where t_emp.eid = #{eid}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-2-3-åˆ†æ­¥æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_4-2-3-åˆ†æ­¥æŸ¥è¯¢" aria-hidden="true">#</a> 4.2.3 åˆ†æ­¥æŸ¥è¯¢</h4><ol><li>åˆ†æ­¥ä¸€ï¼š</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* æŸ¥è¯¢æŒ‡å®šå‘˜å·¥çš„ä¿¡æ¯åŠæ‰€åœ¨éƒ¨é—¨ï¼Œåˆ†æ­¥ä¸€ï¼šæŸ¥è¯¢æ‰€åœ¨éƒ¨é—¨did
* <span class="token keyword">@param</span> <span class="token parameter">eid</span>
* <span class="token keyword">@return</span>
*/</span>
<span class="token class-name">Emp</span> <span class="token function">getEmpAndDeptByStepOne</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;eid&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> eid<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--å¤„ç†å¤šå¯¹ä¸€æ˜ å°„å…³ç³»æ–¹å¼ä¸‰ï¼šåˆ†æ­¥æŸ¥è¯¢ã€åˆ†æ­¥ä¸€--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empAndDeptByStepResultMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--
    select:è®¾ç½®åˆ†æ­¥æŸ¥è¯¢çš„sqlçš„å”¯ä¸€æ ‡è¯†ï¼ˆnamespace.SQLIdæˆ–mapperæ¥å£çš„å…¨ç±»å.æ–¹æ³•åï¼‰
    column:è®¾ç½®åˆ†æ­¥æŸ¥è¯¢çš„æ¡ä»¶
--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iceriver.mybatis.mapper.DeptMapper.getEmpAndDeptByStepTwo<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>did<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--Emp getEmpAndDeptByStepOne(@Param(&quot;eid&quot;) Integer eid);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpAndDeptByStepOne<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empAndDeptByStepResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_emp where eid = #{eid}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åˆ†æ­¥äºŒï¼š</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* æŸ¥è¯¢æŒ‡å®šå‘˜å·¥çš„ä¿¡æ¯åŠæ‰€åœ¨éƒ¨é—¨ï¼Œåˆ†æ­¥äºŒï¼šæ ¹æ®didæŸ¥è¯¢éƒ¨é—¨
* <span class="token keyword">@param</span> <span class="token parameter">did</span>
* <span class="token keyword">@return</span>
*/</span>
<span class="token class-name">Dept</span> <span class="token function">getEmpAndDeptByStepTwo</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;did&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> did<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--å¤„ç†å¤šå¯¹ä¸€æ˜ å°„å…³ç³»æ–¹å¼ä¸‰ï¼šåˆ†æ­¥æŸ¥è¯¢ã€åˆ†æ­¥äºŒ--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empAndDeptByStepResultMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Dept<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>did<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>did<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deptName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--Dept getEmpAndDeptByStepTwo(@Param(&quot;did&quot;) Integer did);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpAndDeptByStepTwo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empAndDeptByStepResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_dept where did = #{did}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658888042785-8c40e45b-78fa-4cd5-82dd-7a9edea05462.png#clientId=u262beab3-6cd1-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=24&amp;id=uefb999f2&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=24&amp;originWidth=904&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=5771&amp;status=done&amp;style=none&amp;taskId=u4a52481e-8198-4ec0-8c25-38978591711&amp;title=&amp;width=904" alt="image.png" loading="lazy"></p><h3 id="_4-3-å¤„ç†è¡¨ä¸­ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»" tabindex="-1"><a class="header-anchor" href="#_4-3-å¤„ç†è¡¨ä¸­ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»" aria-hidden="true">#</a> 4.3 å¤„ç†è¡¨ä¸­ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»</h3><blockquote><ul><li>ä¸€å¯¹å¤šï¼šå®ä½“ç±»ä¸­æœ‰ä¸ªå±æ€§æ˜¯é›†åˆ</li></ul></blockquote><h4 id="_4-3-1-ä½¿ç”¨-connection-æ ‡ç­¾åŠå…¶å­æ ‡ç­¾" tabindex="-1"><a class="header-anchor" href="#_4-3-1-ä½¿ç”¨-connection-æ ‡ç­¾åŠå…¶å­æ ‡ç­¾" aria-hidden="true">#</a> 4.3.1 ä½¿ç”¨<code>&lt;connection&gt;</code>æ ‡ç­¾åŠå…¶å­æ ‡ç­¾</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--å¤„ç†ä¸€å¯¹å¤šæ˜ å°„å…³ç³»æ–¹å¼ä¸€ï¼š--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deptAndEmpResultMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Dept<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>did<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>did<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deptName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--
            collectionï¼šå¤„ç†ä¸€å¯¹å¤šçš„æ˜ å°„å…³ç³»
            ofTypeï¼šè¡¨ç¤ºè¯¥å±æ€§æ‰€å¯¹åº”çš„é›†åˆä¸­å­˜å‚¨æ•°æ®çš„ç±»å‹
        --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emps<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--Dept getDeptAndEmp(@Param(&quot;did&quot;) Integer did);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getDeptAndEmp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deptAndEmpResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_dept left join t_emp on t_dept.did = t_emp.did where t_dept.did = #{did}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658890506614-f44a26d8-3ccb-4b5c-95aa-877572185b9e.png#clientId=u262beab3-6cd1-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=70&amp;id=u82c9432f&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=70&amp;originWidth=659&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12878&amp;status=done&amp;style=none&amp;taskId=u8efe6c5a-e076-46a2-aaab-053aa48c277&amp;title=&amp;width=659" alt="image.png" loading="lazy"></p><h4 id="_4-3-2-åˆ†æ­¥æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_4-3-2-åˆ†æ­¥æŸ¥è¯¢" aria-hidden="true">#</a> 4.3.2 åˆ†æ­¥æŸ¥è¯¢</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--å¤„ç†ä¸€å¯¹å¤šæ˜ å°„å…³ç³»æ–¹å¼äºŒï¼šåˆ†æ­¥æŸ¥è¯¢ã€åˆ†æ­¥ä¸€--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deptAndEmpByStepResultMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Dept<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>did<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>did<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deptName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emps<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iceriver.mybatis.mapper.EmpMapper.getDeptAndEmpByStepTwo<span class="token punctuation">&quot;</span></span> 
              <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>did<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">fetchType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eager<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--Dept getDeptAndEmpByStepOne(@Param(&quot;did&quot;) Integer did);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getDeptAndEmpByStepOne<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deptAndEmpByStepResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_dept where did = #{did}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--List&lt;Emp&gt; getDeptAndEmpByStepTwo(@Param(&quot;did&quot;) Integer did);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empAndDeptResultMapOne<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getDeptAndEmpByStepTwo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empAndDeptResultMapOne<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_emp where did = #{did}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658892640895-1a084e5b-d9d2-4821-8ec4-2da093c512d6.png#clientId=u262beab3-6cd1-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=73&amp;id=u164e84a4&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=73&amp;originWidth=671&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12938&amp;status=done&amp;style=none&amp;taskId=u1c7a01fb-dd1d-4141-b0f9-b7c2c035887&amp;title=&amp;width=671" alt="image.png" loading="lazy"></p><h3 id="_4-4-åˆ†æ­¥æŸ¥è¯¢çš„ä¼˜ç‚¹" tabindex="-1"><a class="header-anchor" href="#_4-4-åˆ†æ­¥æŸ¥è¯¢çš„ä¼˜ç‚¹" aria-hidden="true">#</a> 4.4 åˆ†æ­¥æŸ¥è¯¢çš„ä¼˜ç‚¹</h3><ol><li>åˆ†æ­¥æŸ¥è¯¢çš„ä¼˜ç‚¹ï¼šå¯ä»¥å®ç°å»¶è¿ŸåŠ è½½ï¼Œä½†æ˜¯å¿…é¡»åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­è®¾ç½®å…¨å±€é…ç½®ä¿¡æ¯ï¼š</li></ol><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--å¼€å¯å»¶è¿ŸåŠ è½½--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lazyLoadingEnabled<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>lazyLoadingEnabled</code>ï¼šå»¶è¿ŸåŠ è½½çš„å…¨å±€å¼€å…³ã€‚å½“å¼€å¯æ—¶ï¼Œæ‰€æœ‰å…³è”å¯¹è±¡éƒ½ä¼šå»¶è¿ŸåŠ è½½</li><li><code>aggressiveLazyLoading</code>ï¼šå½“å¼€å¯æ—¶ï¼Œä»»ä½•æ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šåŠ è½½è¯¥å¯¹è±¡çš„æ‰€æœ‰å±æ€§ã€3.7.5ç‰ˆæœ¬é»˜è®¤å¼€å¯ã€‘ã€‚ å¦åˆ™ï¼Œæ¯ä¸ªå±æ€§ä¼šæŒ‰éœ€åŠ è½½</li></ul><ol start="2"><li>æ ¸å¿ƒé…ç½®æ–‡ä»¶å¼€å¯å»¶è¿ŸåŠ è½½åï¼Œæ‰€æœ‰çš„åˆ†æ­¥æŸ¥è¯¢éƒ½ä¼šå»¶è¿ŸåŠ è½½ï¼Œå¦‚æœéœ€è¦æ§åˆ¶å½“å‰æ˜ å°„æ–‡ä»¶ä¸­çš„åˆ†æ­¥æŸ¥è¯¢ï¼Œå¯ä»¥é€šè¿‡<code>association</code>å’Œ<code>collection</code>ä¸­çš„<code>fetchType</code>å±æ€§è®¾ç½®å½“å‰çš„åˆ†æ­¥æŸ¥è¯¢æ˜¯å¦ä½¿ç”¨å»¶è¿ŸåŠ è½½ã€‚ <ul><li><code>fetchType=&quot;lazy&quot;</code>(å»¶è¿ŸåŠ è½½)ï¼Œå¼€å¯å…¨å±€å»¶è¿ŸåŠ è½½æ—¶çš„é»˜è®¤å€¼ã€‚</li><li><code>fetchType=&quot;eager&quot;</code>(ç«‹å³åŠ è½½) ï¼Œæœªå…¨å±€å»¶è¿ŸåŠ è½½æ—¶çš„é»˜è®¤å€¼ã€‚</li></ul></li></ol><h2 id="ç¬¬5ç« -åŠ¨æ€sql" tabindex="-1"><a class="header-anchor" href="#ç¬¬5ç« -åŠ¨æ€sql" aria-hidden="true">#</a> ç¬¬5ç«  åŠ¨æ€SQL</h2><blockquote><ul><li>è§£å†³æ‹¼æ¥SQLè¯­å¥å­—ç¬¦ä¸²æ—¶çš„ç—›ç‚¹é—®é¢˜ã€‚</li></ul></blockquote><h3 id="_5-1-if" tabindex="-1"><a class="header-anchor" href="#_5-1-if" aria-hidden="true">#</a> 5.1 <code>&lt;if&gt;</code></h3><ul><li><code>&lt;if&gt;</code>æ ‡ç­¾å¯é€šè¿‡<code>test</code>å±æ€§çš„è¡¨è¾¾å¼è¿›è¡Œåˆ¤æ–­ï¼Œè‹¥è¡¨è¾¾å¼çš„ç»“æœä¸º<code>true</code>ï¼Œåˆ™æ ‡ç­¾ä¸­çš„å†…å®¹ä¼šæ‰§è¡Œï¼›åä¹‹æ ‡ç­¾ä¸­çš„å†…å®¹ä¸ä¼šæ‰§è¡Œ</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empResultMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpByCondition<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_emp where 1=1
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName != null and empName != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    and emp_name = #{empName}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age != null and age != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    and age = #{age}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender != null and gender != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    or sex = #{gender}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email != null and email != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    and email = #{email}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>if</code>æ ‡ç­¾ä¸­<code>test</code>å±æ€§çš„å€¼æ˜¯å®ä½“ç±»çš„å±æ€§åï¼Œæˆ–è€…åˆ«åã€‚</li><li><code>if</code>è¯­å¥ä¸­çš„æŸ¥è¯¢æ¡ä»¶<code>=</code>å·¦ä¾§å­—æ®µåæ˜¯æ•°æ®è¡¨ä¸­çš„å­—æ®µåï¼Œå³ä¾§æ˜¯å®ä½“ç±»å±æ€§åã€‚ <ul><li>è¿™é‡Œçš„å®ä½“ç±»ä¸­çš„å±æ€§åä¹Ÿç›¸å½“äºè¡¨å•æäº¤çš„å±æ€§åã€è¡¨å•æäº¤çš„å±æ€§åä¸å®ä½“ç±»çš„å±æ€§åä¸€è‡´ã€‘</li></ul></li><li>è¿™é‡Œ<code>1=1</code>æ˜¯ä¸ºäº†è§£å†³å„é¡¹æ¡ä»¶éƒ½ä¸ç¬¦åˆï¼Œæˆ–<code>emp_name</code>ä¸ç¬¦åˆæ¡ä»¶ï¼Œå¯¼è‡´<code>where</code>åé¢æ²¡æœ‰è¯­å¥æˆ–<code>where</code>åé¢ç›´æ¥å‡ºç°<code>and</code>æˆ–<code>or</code>çš„æƒ…å†µã€‚ <ul><li><code>1=1</code>è¿™ç§ç”¨æ³•å¯ä»¥åœ¨æ­£å¸¸çš„SQLè¯­å¥ä¸­ä½¿ç”¨ï¼Œä¸”ä¸ä¼šå½±å“æ‰§è¡Œæ•ˆæœã€‚</li></ul></li></ul><h3 id="_5-2-where" tabindex="-1"><a class="header-anchor" href="#_5-2-where" aria-hidden="true">#</a> 5.2 <code>&lt;where&gt;</code></h3><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empResultMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpByCondition<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_emp
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName != null and empName != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      and emp_name = #{empName}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age != null and age != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      and age = #{age}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender != null and gender != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      or sex = #{gender}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email != null and email != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      and email = #{email}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>where</code>å’Œ<code>if</code>ä¸€èˆ¬ç»“åˆä½¿ç”¨ï¼š <ul><li>è‹¥<code>where</code>æ ‡ç­¾ä¸­çš„ifæ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œåˆ™<code>where</code>æ ‡ç­¾æ²¡æœ‰ä»»ä½•åŠŸèƒ½ï¼Œå³ä¸ä¼šæ·»åŠ <code>where</code>å…³é”®å­—</li><li>è‹¥<code>where</code>æ ‡ç­¾ä¸­çš„<code>if</code>æ¡ä»¶æ»¡è¶³ï¼Œåˆ™<code>where</code>æ ‡ç­¾ä¼šè‡ªåŠ¨æ·»åŠ <code>where</code>å…³é”®å­—ï¼Œå¹¶å°†æ¡ä»¶æœ€å‰æ–¹å¤šä½™çš„<code>and</code>/<code>or</code>å»æ‰ <ul><li>æ³¨æ„ï¼š<code>where</code>æ ‡ç­¾ä¸èƒ½å»æ‰æ¡ä»¶æœ€åå¤šä½™çš„<code>and</code>/<code>or</code></li></ul></li></ul></li></ul><h3 id="_5-3-trim" tabindex="-1"><a class="header-anchor" href="#_5-3-trim" aria-hidden="true">#</a> 5.3 <code>&lt;trim&gt;</code></h3><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empResultMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--List&lt;Emp&gt; getEmpByCondition(Emp emp);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpByCondition<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_emp
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>trim</span> <span class="token attr-name">prefix</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>where<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prefixOverrides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>and|or<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName != null and empName != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      and emp_name = #{empName}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age != null and age != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      and age = #{age}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender != null and gender != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      or sex = #{gender}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email != null and email != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      and email = #{email}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>trim</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>trim</code>ç”¨äºå»æ‰æˆ–æ·»åŠ æ ‡ç­¾ä¸­çš„å†…å®¹ï¼š <ul><li><code>prefix</code>ï¼šåœ¨trimæ ‡ç­¾ä¸­çš„å†…å®¹çš„å‰é¢æ·»åŠ æŒ‡å®šå†…å®¹</li><li><code>prefixOverrides</code>ï¼šåœ¨<code>trim</code>æ ‡ç­¾ä¸­çš„å†…å®¹çš„å‰é¢å»æ‰æŒ‡å®šå†…å®¹</li><li><code>suffix</code>ï¼šåœ¨<code>trim</code>æ ‡ç­¾ä¸­çš„å†…å®¹çš„åé¢æ·»åŠ æŒ‡å®šå†…å®¹</li><li><code>suffixOverrides</code>ï¼šåœ¨<code>trim</code>æ ‡ç­¾ä¸­çš„å†…å®¹çš„åé¢å»æ‰æŒ‡å®šå†…å®¹</li></ul></li></ul><h3 id="_5-4-choose-ã€-when-ã€-otherwise" tabindex="-1"><a class="header-anchor" href="#_5-4-choose-ã€-when-ã€-otherwise" aria-hidden="true">#</a> 5.4 <code>&lt;choose&gt;</code>ã€<code>&lt;when&gt;</code>ã€<code>&lt;otherwise&gt;</code></h3><ul><li>ç›¸å½“äºif...else if....if</li><li><code>when</code>è‡³å°‘è¦æœ‰ä¸€ä¸ª</li><li><code>otherwise</code>æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ª</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empResultMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>result</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--List&lt;Emp&gt; getEmpByChoose(Emp emp);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpByChoose<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select * from t_emp
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empName != null and empName != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        emp_name = #{empName}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age != null and age != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        age = #{age}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender != null and gender != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        sex = #{gender}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email != null and email != <span class="token punctuation">&#39;</span><span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        email = #{email}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>otherwise</span><span class="token punctuation">&gt;</span></span>
        did=1
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>otherwise</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-5-foreach" tabindex="-1"><a class="header-anchor" href="#_5-5-foreach" aria-hidden="true">#</a> 5.5 <code>&lt;foreach&gt;</code></h3><h4 id="_5-5-1-æ‰¹é‡åˆ é™¤" tabindex="-1"><a class="header-anchor" href="#_5-5-1-æ‰¹é‡åˆ é™¤" aria-hidden="true">#</a> 5.5.1 æ‰¹é‡åˆ é™¤</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--int deleteMoreByArray(@Param(&quot;eids&quot;) Integer[] eids);--&gt;</span>
<span class="token comment">&lt;!--
&lt;delete id=&quot;deleteMoreByArray&quot;&gt;
  delete from t_emp where eid in
    (
      &lt;foreach collection=&quot;eids&quot; item=&quot;eid&quot; separator=&quot;,&quot;&gt;
        #{eid}
      &lt;/foreach&gt;
    )
&lt;/delete&gt;
--&gt;</span>

<span class="token comment">&lt;!--
&lt;delete id=&quot;deleteMoreByArray&quot;&gt;
  delete from t_emp where eid in
  &lt;foreach collection=&quot;eids&quot; item=&quot;eid&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;
    #{eid}
  &lt;/foreach&gt;
&lt;/delete&gt;
--&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deleteMoreByArray<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  delete from t_emp where
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eids<span class="token punctuation">&quot;</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>or<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    eid=#{eid}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delete</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>collection</code>ï¼šè®¾ç½®è¦å¾ªç¯çš„æ•°ç»„æˆ–é›†åˆ</li><li><code>item</code>ï¼šè¡¨ç¤ºé›†åˆæˆ–æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ•°æ®</li><li><code>separator</code>ï¼šè®¾ç½®å¾ªç¯ä½“ä¹‹é—´çš„åˆ†éš”ç¬¦</li><li><code>open</code>ï¼šè®¾ç½®<code>foreach</code>æ ‡ç­¾ä¸­çš„å†…å®¹çš„å¼€å§‹ç¬¦</li><li><code>close</code>ï¼šè®¾ç½®<code>foreach</code>æ ‡ç­¾ä¸­çš„å†…å®¹çš„ç»“æŸç¬¦</li></ul><h4 id="_5-5-2-æ‰¹é‡æ·»åŠ " tabindex="-1"><a class="header-anchor" href="#_5-5-2-æ‰¹é‡æ·»åŠ " aria-hidden="true">#</a> 5.5.2 æ‰¹é‡æ·»åŠ </h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!--int insertMoreByList(@Param(&quot;emps&quot;) List&lt;Emp&gt; emps);--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertMoreByList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  insert into t_emp values
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emps<span class="token punctuation">&quot;</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    (null,#{emp.empName},#{emp.age},#{emp.gender},#{emp.email},null)
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ³¨æ„è¿™é‡Œ<code>gender</code>æ˜¯å®ä½“ç±»ä¸­çš„å±æ€§åï¼Œ<code>sex</code>æ˜¯è¡¨ä¸­å­—æ®µåã€‚ç”±äºå‰æ–‡è®¾ç½®äº†<code>gender</code>çš„æ˜ å°„å…³ç³»ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ä½¿ç”¨<code>gender</code></li></ul><h3 id="_5-6-sql-ç‰‡æ®µ" tabindex="-1"><a class="header-anchor" href="#_5-6-sql-ç‰‡æ®µ" aria-hidden="true">#</a> 5.6 <code>&lt;sql&gt;</code>ç‰‡æ®µ</h3><ul><li>è®¾ç½®<code>sql</code>ç‰‡æ®µï¼Œè®°å½•ä¸€æ®µæ•°æ®ï¼Œåœ¨ä½¿ç”¨çš„åœ°æ–¹ä½¿ç”¨<code>&lt;include&gt;</code>æ ‡ç­¾å¼•å…¥ï¼Œæ’å…¥åˆ°<code>sql</code>è¯­å¥ä¸­ã€‚</li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empColumns<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  eid,ename,age,sex,did
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sql</span><span class="token punctuation">&gt;</span></span>
select <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>empColumns<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span> from t_emp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç¬¬6ç« -mybatisçš„ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#ç¬¬6ç« -mybatisçš„ç¼“å­˜" aria-hidden="true">#</a> ç¬¬6ç«  MyBatisçš„ç¼“å­˜</h2><blockquote><ul><li>åªé’ˆå¯¹æŸ¥è¯¢åŠŸèƒ½æœ‰æ•ˆ</li></ul></blockquote><h3 id="_6-1-ä¸€çº§ç¼“å­˜-ä¸åŒæŸ¥è¯¢åœ¨åŒä¸€ä¸ªsqlsessionä¸‹" tabindex="-1"><a class="header-anchor" href="#_6-1-ä¸€çº§ç¼“å­˜-ä¸åŒæŸ¥è¯¢åœ¨åŒä¸€ä¸ªsqlsessionä¸‹" aria-hidden="true">#</a> 6.1 ä¸€çº§ç¼“å­˜ï¼ˆä¸åŒæŸ¥è¯¢åœ¨åŒä¸€ä¸ª<code>sqlSession</code>ä¸‹ï¼‰</h3><ol><li>ä¸€çº§ç¼“å­˜æ˜¯<code>SqlSession</code>çº§åˆ«çš„ï¼Œé€šè¿‡åŒä¸€ä¸ªSqlSessionæŸ¥è¯¢çš„æ•°æ®ä¼šè¢«ç¼“å­˜ï¼Œä¸‹æ¬¡æŸ¥è¯¢ç›¸åŒçš„æ•°æ®ï¼Œå°±ä¼šä»ç¼“å­˜ä¸­ç›´æ¥è·å–ï¼Œä¸ä¼šä»æ•°æ®åº“é‡æ–°è®¿é—®ã€ä¸ä¼šæ‰§è¡ŒsqlæŸ¥è¯¢ã€‘ <ul><li>ä¸è®º<code>SqlSession</code>å¯¹è±¡æ˜¯å¦å…³é—­æˆ–æäº¤ï¼Œéƒ½ä¼šä¿å­˜ä¸€çº§ç¼“å­˜ <ul><li><code>sqlSession.commit()</code>æˆ–<code>sqlSession.close()</code></li></ul></li></ul></li><li>ä½¿ä¸€çº§ç¼“å­˜å¤±æ•ˆçš„å››ç§æƒ…å†µï¼š <ul><li>ä¸åŒçš„<code>SqlSession</code>å¯¹åº”ä¸åŒçš„ä¸€çº§ç¼“å­˜</li><li>åŒä¸€ä¸ª<code>SqlSession</code>ä½†æ˜¯æŸ¥è¯¢æ¡ä»¶ä¸åŒ</li><li>åŒä¸€ä¸ª<code>SqlSession</code>ä¸¤æ¬¡æŸ¥è¯¢æœŸé—´æ‰§è¡Œäº†ä»»ä½•ä¸€æ¬¡å¢åˆ æ”¹æ“ä½œ</li><li>åŒä¸€ä¸ª<code>SqlSession</code>ä¸¤æ¬¡æŸ¥è¯¢æœŸé—´æ‰‹åŠ¨æ¸…ç©ºäº†ç¼“å­˜ <ul><li><code>sqlSession.clearCache()</code></li></ul></li></ul></li></ol><h3 id="_6-2-äºŒçº§ç¼“å­˜-ä¸åŒæŸ¥è¯¢åœ¨åŒä¸€ä¸ªsqlsessionfactoryä¸‹" tabindex="-1"><a class="header-anchor" href="#_6-2-äºŒçº§ç¼“å­˜-ä¸åŒæŸ¥è¯¢åœ¨åŒä¸€ä¸ªsqlsessionfactoryä¸‹" aria-hidden="true">#</a> 6.2 äºŒçº§ç¼“å­˜ï¼ˆä¸åŒæŸ¥è¯¢åœ¨åŒä¸€ä¸ª<code>sqlSessionFactory</code>ä¸‹ï¼‰</h3><ol><li>äºŒçº§ç¼“å­˜çº§åˆ«å¤§äºä¸€çº§ç¼“å­˜ã€‚</li><li>äºŒçº§ç¼“å­˜æ˜¯<code>SqlSessionFactory</code>çº§åˆ«ï¼Œé€šè¿‡åŒä¸€ä¸ª<code>SqlSessionFactory</code>åˆ›å»ºçš„<code>SqlSession</code>æŸ¥è¯¢çš„ç»“æœä¼šè¢«ç¼“å­˜ï¼›æ­¤åè‹¥å†æ¬¡æ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢è¯­å¥ï¼Œç»“æœå°±ä¼šä»ç¼“å­˜ä¸­è·å–ã€‚</li><li>äºŒçº§ç¼“å­˜å¼€å¯çš„æ¡ä»¶ï¼ˆåŒæ—¶æ»¡è¶³ï¼‰ï¼š <ul><li>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼Œè®¾ç½®å…¨å±€é…ç½®å±æ€§<code>cacheEnabled=&quot;true&quot;</code><ul><li>é»˜è®¤å³ä¸º<code>true</code>ï¼Œä¸éœ€è¦è®¾ç½®ã€‚</li></ul></li><li>åœ¨æ˜ å°„æ–‡ä»¶ä¸­è®¾ç½®æ ‡ç­¾<code>&lt;cache/&gt;</code></li><li>äºŒçº§ç¼“å­˜å¿…é¡»åœ¨<code>SqlSession</code>å¯¹è±¡å…³é—­æˆ–æäº¤ä¹‹åæœ‰æ•ˆ <ul><li><code>sqlSession.commit()</code>æˆ–<code>sqlSession.close()</code></li></ul></li><li>æŸ¥è¯¢çš„æ•°æ®æ‰€è½¬æ¢çš„å®ä½“ç±»ç±»å‹å¿…é¡»å®ç°åºåˆ—åŒ–<code>Serializable</code>æ¥å£</li></ul></li><li>ä½¿äºŒçº§ç¼“å­˜å¤±æ•ˆçš„æƒ…å†µï¼š <ul><li>ä¸¤æ¬¡æŸ¥è¯¢ä¹‹é—´æ‰§è¡Œäº†ä»»æ„çš„å¢åˆ æ”¹ï¼Œä¼šä½¿ä¸€çº§å’ŒäºŒçº§ç¼“å­˜åŒæ—¶å¤±æ•ˆ</li></ul></li></ol><h3 id="_6-3-äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®" tabindex="-1"><a class="header-anchor" href="#_6-3-äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®" aria-hidden="true">#</a> 6.3 äºŒçº§ç¼“å­˜çš„ç›¸å…³é…ç½®</h3><ol><li>é€šè¿‡åœ¨<code>mapper</code>æ˜ å°„æ–‡ä»¶ä¸­è®¾ç½®<code>&lt;cache/&gt;</code> æ ‡ç­¾çš„å±æ€§é…ç½®ï¼š</li><li><code>eviction</code>å±æ€§ï¼šç¼“å­˜å›æ”¶ç­–ç•¥ <ul><li><code>LRU</code>ï¼ˆ<code>Least Recently Used</code>ï¼‰ â€“ æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„ï¼šç§»é™¤æœ€é•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„å¯¹è±¡ã€‚é»˜è®¤å€¼ã€‚</li><li><code>FIFO</code>ï¼ˆ<code>First in First out</code>ï¼‰ â€“ å…ˆè¿›å…ˆå‡ºï¼šæŒ‰å¯¹è±¡è¿›å…¥ç¼“å­˜çš„é¡ºåºæ¥ç§»é™¤å®ƒä»¬ã€‚</li><li><code>SOFT</code>â€“ è½¯å¼•ç”¨ï¼šç§»é™¤åŸºäºåƒåœ¾å›æ”¶å™¨çŠ¶æ€å’Œè½¯å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚ <code>WEAK</code>â€“ å¼±å¼•ç”¨ï¼šæ›´ç§¯æåœ°ç§»é™¤åŸºäºåƒåœ¾æ”¶é›†å™¨çŠ¶æ€å’Œå¼±å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚</li></ul></li><li><code>flushInterval</code>å±æ€§ï¼šåˆ·æ–°é—´éš”ï¼Œå•ä½æ¯«ç§’ <ul><li>é»˜è®¤æƒ…å†µæ˜¯ä¸è®¾ç½®ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰åˆ·æ–°é—´éš”ï¼Œç¼“å­˜ä»…ä»…è°ƒç”¨è¯­å¥æ—¶åˆ·æ–°</li></ul></li><li><code>size</code>å±æ€§ï¼šå¼•ç”¨æ•°ç›®ï¼Œæ­£æ•´æ•°ã€‚ä»£è¡¨ç¼“å­˜æœ€å¤šå¯ä»¥å­˜å‚¨å¤šå°‘ä¸ªå¯¹è±¡ï¼Œå¤ªå¤§å®¹æ˜“å¯¼è‡´å†…å­˜æº¢å‡º</li><li><code>readOnly</code>å±æ€§ï¼šåªè¯»ï¼Œ<code>true</code>/<code>false</code><ul><li><code>true</code>ï¼šåªè¯»ç¼“å­˜ï¼›ä¼šç»™æ‰€æœ‰è°ƒç”¨è€…è¿”å›ç¼“å­˜å¯¹è±¡çš„ç›¸åŒå®ä¾‹ã€‚å› æ­¤è¿™äº›å¯¹è±¡ä¸èƒ½è¢«ä¿®æ”¹ã€‚è¿™æä¾›äº†å¾ˆé‡è¦çš„æ€§èƒ½ä¼˜åŠ¿ã€‚</li><li><code>false</code>ï¼šè¯»å†™ç¼“å­˜ï¼›ä¼šè¿”å›ç¼“å­˜å¯¹è±¡çš„æ‹·è´ï¼ˆé€šè¿‡åºåˆ—åŒ–ï¼‰ã€‚è¿™ä¼šæ…¢ä¸€äº›ï¼Œä½†æ˜¯å®‰å…¨ï¼Œå› æ­¤é»˜è®¤æ˜¯<code>false</code>ã€‚</li></ul></li></ol><h3 id="_6-4-mybatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº" tabindex="-1"><a class="header-anchor" href="#_6-4-mybatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº" aria-hidden="true">#</a> 6.4 MyBatisç¼“å­˜æŸ¥è¯¢çš„é¡ºåº</h3><ol><li>å…ˆæŸ¥è¯¢äºŒçº§ç¼“å­˜ï¼Œå› ä¸ºäºŒçº§ç¼“å­˜ä¸­å¯èƒ½ä¼šæœ‰å…¶ä»–ç¨‹åºå·²ç»æŸ¥å‡ºæ¥çš„æ•°æ®ï¼Œå¯ä»¥æ‹¿æ¥ç›´æ¥ä½¿ç”¨ã€‚ã€å…ˆæœç´¢å¤§èŒƒå›´ï¼Œå†æœç´¢å°èŒƒå›´ã€‘ã€‚</li><li>å¦‚æœäºŒçº§ç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œå†æŸ¥è¯¢ä¸€çº§ç¼“å­˜ã€‚</li><li>å¦‚æœä¸€çº§ç¼“å­˜ä¹Ÿæ²¡æœ‰å‘½ä¸­ï¼Œåˆ™æŸ¥è¯¢æ•°æ®åº“ã€‚</li><li><code>SqlSession</code>å…³é—­ä¹‹åï¼Œä¸€çº§ç¼“å­˜ä¸­çš„æ•°æ®ä¼šå†™å…¥äºŒçº§ç¼“å­˜ã€‚</li></ol><h3 id="_6-5-æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜ehcache" tabindex="-1"><a class="header-anchor" href="#_6-5-æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜ehcache" aria-hidden="true">#</a> 6.5 æ•´åˆç¬¬ä¸‰æ–¹ç¼“å­˜EHCache</h3><blockquote><ul><li>åªèƒ½ä»£æ›¿äºŒçº§ç¼“å­˜ï¼Œæ²¡æ³•ä»£æ›¿ä¸€çº§ç¼“å­˜ã€‚ã€ä¸ºä»€ä¹ˆï¼Ÿã€‘</li></ul></blockquote><h4 id="_6-5-1-æ·»åŠ ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_6-5-1-æ·»åŠ ä¾èµ–" aria-hidden="true">#</a> 6.5.1 æ·»åŠ ä¾èµ–</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- Mybatis EHCacheæ•´åˆåŒ… --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.caches<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-ehcache<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- slf4jæ—¥å¿—é—¨é¢çš„ä¸€ä¸ªå…·ä½“å®ç° --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>ch.qos.logback<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>logback-classic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658913695203-c2d10aa6-5f1d-468c-b366-f915afb39b8e.png#clientId=u58a324e4-3d2a-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=184&amp;id=u3f605e66&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=184&amp;originWidth=471&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=21453&amp;status=done&amp;style=none&amp;taskId=u4c4ddf55-8b19-44b0-9373-dcf2a03855b&amp;title=&amp;width=471" alt="image.png" loading="lazy"></p><h4 id="_6-5-2-å„jaråŒ…åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_6-5-2-å„jaråŒ…åŠŸèƒ½" aria-hidden="true">#</a> 6.5.2 å„jaråŒ…åŠŸèƒ½</h4><table><thead><tr><th>jaråŒ…åç§°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>mybatis-ehcache</td><td>Mybatiså’ŒEHCacheçš„æ•´åˆåŒ…</td></tr><tr><td>ehcache</td><td>EHCacheæ ¸å¿ƒåŒ…</td></tr><tr><td>slf4j-api</td><td>SLF4Jæ—¥å¿—é—¨é¢åŒ…</td></tr><tr><td>logback-classic</td><td>æ”¯æŒSLF4Jé—¨é¢æ¥å£çš„ä¸€ä¸ªå…·ä½“å®ç°</td></tr></tbody></table><ul><li>æ—¥å¿—é—¨é¢ï¼šæä¾›äº†è§„èŒƒã€æ¥å£</li></ul><h4 id="_6-5-3-åˆ›å»ºé…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_6-5-3-åˆ›å»ºé…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 6.5.3 åˆ›å»ºé…ç½®æ–‡ä»¶</h4><ol><li>åœ¨<code>resources</code>ç›®å½•ä¸‹åˆ›å»º<code>ehcache.xml</code></li></ol><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ehcache</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>noNamespaceSchemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>../config/ehcache.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ç£ç›˜ä¿å­˜è·¯å¾„ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>diskStore</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>D:\iceriver\ehcache<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defaultCache</span>
            <span class="token attr-name">maxElementsInMemory</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">maxElementsOnDisk</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10000000<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">eternal</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">overflowToDisk</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">timeToIdleSeconds</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>120<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">timeToLiveSeconds</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>120<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">diskExpiryThreadIntervalSeconds</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>120<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">memoryStoreEvictionPolicy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>LRU<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defaultCache</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ehcache</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>å±æ€§å</th><th>æ˜¯å¦å¿…é¡»</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>maxElementsInMemory</td><td>æ˜¯</td><td>åœ¨å†…å­˜ä¸­ç¼“å­˜çš„elementçš„æœ€å¤§æ•°ç›®</td></tr><tr><td>maxElementsOnDisk</td><td>æ˜¯</td><td>åœ¨ç£ç›˜ä¸Šç¼“å­˜çš„elementçš„æœ€å¤§æ•°ç›®ï¼Œè‹¥æ˜¯0è¡¨ç¤ºæ— ç©·å¤§</td></tr><tr><td>eternal</td><td>æ˜¯</td><td>è®¾å®šç¼“å­˜çš„elementsæ˜¯å¦æ°¸è¿œä¸è¿‡æœŸã€‚ å¦‚æœä¸ºtrueï¼Œåˆ™ç¼“å­˜çš„æ•°æ®å§‹ç»ˆæœ‰æ•ˆï¼Œ å¦‚æœä¸ºfalseé‚£ä¹ˆè¿˜è¦æ ¹æ®timeToIdleSecondsã€timeToLiveSecondsåˆ¤æ–­</td></tr><tr><td>overflowToDisk</td><td>æ˜¯</td><td>è®¾å®šå½“å†…å­˜ç¼“å­˜æº¢å‡ºçš„æ—¶å€™æ˜¯å¦å°†è¿‡æœŸçš„elementç¼“å­˜åˆ°ç£ç›˜ä¸Š</td></tr><tr><td>timeToIdleSeconds</td><td>å¦</td><td>å½“ç¼“å­˜åœ¨EhCacheä¸­çš„æ•°æ®å‰åä¸¤æ¬¡è®¿é—®çš„æ—¶é—´è¶…è¿‡timeToIdleSecondsçš„å±æ€§å–å€¼æ—¶ï¼Œ è¿™äº›æ•°æ®ä¾¿ä¼šåˆ é™¤ï¼Œé»˜è®¤å€¼æ˜¯0,ä¹Ÿå°±æ˜¯å¯é—²ç½®æ—¶é—´æ— ç©·å¤§</td></tr><tr><td>timeToLiveSeconds</td><td>å¦</td><td>ç¼“å­˜elementçš„æœ‰æ•ˆç”Ÿå‘½æœŸï¼Œé»˜è®¤æ˜¯0.,ä¹Ÿå°±æ˜¯elementå­˜æ´»æ—¶é—´æ— ç©·å¤§</td></tr><tr><td>diskSpoolBufferSizeMB</td><td>å¦</td><td>DiskStore(ç£ç›˜ç¼“å­˜)çš„ç¼“å­˜åŒºå¤§å°ã€‚é»˜è®¤æ˜¯30MBã€‚æ¯ä¸ªCacheéƒ½åº”è¯¥æœ‰è‡ªå·±çš„ä¸€ä¸ªç¼“å†²åŒº</td></tr><tr><td>diskPersistent</td><td>å¦</td><td>åœ¨VMé‡å¯çš„æ—¶å€™æ˜¯å¦å¯ç”¨ç£ç›˜ä¿å­˜EhCacheä¸­çš„æ•°æ®ï¼Œé»˜è®¤æ˜¯falseã€‚</td></tr><tr><td>diskExpiryThreadIntervalSeconds</td><td>å¦</td><td>ç£ç›˜ç¼“å­˜çš„æ¸…ç†çº¿ç¨‹è¿è¡Œé—´éš”ï¼Œé»˜è®¤æ˜¯120ç§’ã€‚æ¯ä¸ª120sï¼Œ ç›¸åº”çš„çº¿ç¨‹ä¼šè¿›è¡Œä¸€æ¬¡EhCacheä¸­æ•°æ®çš„æ¸…ç†å·¥ä½œ</td></tr><tr><td>memoryStoreEvictionPolicy</td><td>å¦</td><td>å½“å†…å­˜ç¼“å­˜è¾¾åˆ°æœ€å¤§ï¼Œæœ‰æ–°çš„elementåŠ å…¥çš„æ—¶å€™ï¼Œ ç§»é™¤ç¼“å­˜ä¸­elementçš„ç­–ç•¥ã€‚ é»˜è®¤æ˜¯LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ï¼Œå¯é€‰çš„æœ‰LFUï¼ˆæœ€ä¸å¸¸ä½¿ç”¨ï¼‰å’ŒFIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰</td></tr></tbody></table><ol start="2"><li>åœ¨<code>resources</code>ç›®å½•ä¸‹åˆ›å»º<code>logback.xml</code><ul><li>å­˜åœ¨SLF4Jæ—¶ï¼Œä½œä¸ºç®€æ˜“æ—¥å¿—çš„log4jå°†å¤±æ•ˆï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦å€ŸåŠ©SLF4Jçš„å…·ä½“å®ç°logbackæ¥æ‰“å°æ—¥å¿— <ul><li>é—®é¢˜1ï¼šé‚£å¯ä»¥åˆ äº†<code>log4j</code>å—ï¼Ÿ</li><li>é—®é¢˜2ï¼šå¯ä»¥ä¸ä½¿ç”¨<code>logback</code>å—ï¼Ÿ</li></ul></li></ul></li></ol><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span> <span class="token attr-name">debug</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- æŒ‡å®šæ—¥å¿—è¾“å‡ºçš„ä½ç½® --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>STDOUT<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- æ—¥å¿—è¾“å‡ºçš„æ ¼å¼ --&gt;</span>
            <span class="token comment">&lt;!-- æŒ‰ç…§é¡ºåºåˆ†åˆ«æ˜¯ï¼šæ—¶é—´ã€æ—¥å¿—çº§åˆ«ã€çº¿ç¨‹åç§°ã€æ‰“å°æ—¥å¿—çš„ç±»ã€æ—¥å¿—ä¸»ä½“å†…å®¹ã€æ¢è¡Œ --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>[%d{HH:mm:ss.SSS}] [%-5level] [%thread] [%logger][%msg]%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- è®¾ç½®å…¨å±€æ—¥å¿—çº§åˆ«ã€‚æ—¥å¿—çº§åˆ«æŒ‰é¡ºåºåˆ†åˆ«æ˜¯ï¼šDEBUGã€INFOã€WARNã€ERROR --&gt;</span>
    <span class="token comment">&lt;!-- æŒ‡å®šä»»ä½•ä¸€ä¸ªæ—¥å¿—çº§åˆ«éƒ½åªæ‰“å°å½“å‰çº§åˆ«å’Œåé¢çº§åˆ«çš„æ—¥å¿—ã€‚ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DEBUG<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- æŒ‡å®šæ‰“å°æ—¥å¿—çš„appenderï¼Œè¿™é‡Œé€šè¿‡â€œSTDOUTâ€å¼•ç”¨äº†å‰é¢é…ç½®çš„appender --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>STDOUT<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- æ ¹æ®ç‰¹æ®Šéœ€æ±‚æŒ‡å®šå±€éƒ¨æ—¥å¿—çº§åˆ« --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.crowd.mapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DEBUG<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-5-4-è®¾ç½®ä½¿ç”¨ehcache" tabindex="-1"><a class="header-anchor" href="#_6-5-4-è®¾ç½®ä½¿ç”¨ehcache" aria-hidden="true">#</a> 6.5.4 è®¾ç½®ä½¿ç”¨<code>EHCache</code></h4><ol><li>åœ¨mapperæ˜ å°„æ–‡ä»¶çš„<code>&lt;cache/&gt;</code>æ ‡ç­¾ä¸­æŒ‡å®š<code>type</code>å±æ€§å€¼ä¸º<code>EhcacheCache</code>ï¼š <ul><li><code>&lt;cache type=&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;/&gt;</code></li></ul></li></ol><h2 id="â­ç¬¬7ç« -mybatisçš„é€†å‘å·¥ç¨‹" tabindex="-1"><a class="header-anchor" href="#â­ç¬¬7ç« -mybatisçš„é€†å‘å·¥ç¨‹" aria-hidden="true">#</a> â­ç¬¬7ç«  MyBatisçš„é€†å‘å·¥ç¨‹</h2><h3 id="_7-1-æ­£å‘å·¥ç¨‹ä¸é€†å‘å·¥ç¨‹" tabindex="-1"><a class="header-anchor" href="#_7-1-æ­£å‘å·¥ç¨‹ä¸é€†å‘å·¥ç¨‹" aria-hidden="true">#</a> 7.1 æ­£å‘å·¥ç¨‹ä¸é€†å‘å·¥ç¨‹</h3><ul><li>æ­£å‘å·¥ç¨‹ï¼šå…ˆåˆ›å»ºJavaå®ä½“ç±»ï¼Œç”±æ¡†æ¶è´Ÿè´£æ ¹æ®å®ä½“ç±»ç”Ÿæˆæ•°æ®åº“è¡¨ã€‚<code>Hibernate</code>æ˜¯æ”¯æŒæ­£å‘å·¥ç¨‹çš„ã€‚</li><li>é€†å‘å·¥ç¨‹ï¼šå…ˆåˆ›å»ºæ•°æ®åº“è¡¨ï¼Œç”±æ¡†æ¶è´Ÿè´£æ ¹æ®æ•°æ®åº“è¡¨ï¼Œåå‘ç”Ÿæˆå¦‚ä¸‹èµ„æºï¼š <ul><li>Javaå®ä½“ç±»</li><li>Mapperæ¥å£ï¼ˆæŒä¹…å±‚ï¼‰</li><li>Mapperæ˜ å°„æ–‡ä»¶</li></ul></li></ul><h3 id="_7-2-åˆ›å»ºmybatisçš„é€†å‘å·¥ç¨‹" tabindex="-1"><a class="header-anchor" href="#_7-2-åˆ›å»ºmybatisçš„é€†å‘å·¥ç¨‹" aria-hidden="true">#</a> 7.2 åˆ›å»ºMyBatisçš„é€†å‘å·¥ç¨‹</h3><h4 id="_7-2-1-æ·»åŠ ä¾èµ–å’Œæ’ä»¶" tabindex="-1"><a class="header-anchor" href="#_7-2-1-æ·»åŠ ä¾èµ–å’Œæ’ä»¶" aria-hidden="true">#</a> 7.2.1 æ·»åŠ ä¾èµ–å’Œæ’ä»¶</h4><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>12.MyBatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>iceriver.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>pr04-mybatis-MBG<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ä¾èµ–MyBatisæ ¸å¿ƒåŒ… --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- æ§åˆ¶Mavenåœ¨æ„å»ºè¿‡ç¨‹ä¸­ç›¸å…³é…ç½® --&gt;</span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- æ„å»ºè¿‡ç¨‹ä¸­ç”¨åˆ°çš„æ’ä»¶ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- å…·ä½“æ’ä»¶ï¼Œé€†å‘å·¥ç¨‹çš„æ“ä½œæ˜¯ä»¥æ„å»ºè¿‡ç¨‹ä¸­æ’ä»¶å½¢å¼å‡ºç°çš„ --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.generator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-generator-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!-- æ’ä»¶çš„ä¾èµ– --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
                    <span class="token comment">&lt;!-- é€†å‘å·¥ç¨‹çš„æ ¸å¿ƒä¾èµ– --&gt;</span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.generator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-generator-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.3.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
                    <span class="token comment">&lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt;</span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.mchange<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>c3p0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.9.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
                    <span class="token comment">&lt;!-- MySQLé©±åŠ¨ --&gt;</span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658915755603-e891f55c-4f75-4856-8521-199fd7095250.png#clientId=u58a324e4-3d2a-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=218&amp;id=u0b305316&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=218&amp;originWidth=620&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=44626&amp;status=done&amp;style=none&amp;taskId=ua3c14baa-2511-41ab-acdf-fa86d866ac6&amp;title=&amp;width=620" alt="image.png" loading="lazy"></p><h4 id="_7-2-2-åˆ›å»ºé€†å‘å·¥ç¨‹é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_7-2-2-åˆ›å»ºé€†å‘å·¥ç¨‹é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 7.2.2 åˆ›å»ºé€†å‘å·¥ç¨‹é…ç½®æ–‡ä»¶</h4><blockquote><ul><li>åœ¨<code>resources</code>ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶<code>generatorConfig.xml</code></li></ul></blockquote><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">generatorConfiguration</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>generatorConfiguration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--
    targetRuntime: æ‰§è¡Œç”Ÿæˆçš„é€†å‘å·¥ç¨‹çš„ç‰ˆæœ¬
    MyBatis3Simple: ç”ŸæˆåŸºæœ¬çš„CRUDï¼ˆæ¸…æ–°ç®€æ´ç‰ˆï¼‰
    MyBatis3: ç”Ÿæˆå¸¦æ¡ä»¶çš„CRUDï¼ˆå¥¢åå°Šäº«ç‰ˆï¼‰
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DB2Tables<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetRuntime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyBatis3Simple<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdbcConnection</span> <span class="token attr-name">driverClass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.jdbc.Driver<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">connectionURL</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql://localhost:13306/mybatis_db<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">userId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">password</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dimitre123<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdbcConnection</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- javaBeançš„ç”Ÿæˆç­–ç•¥--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javaModelGenerator</span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iceriver.mybatis.bean<span class="token punctuation">&quot;</span></span>
                            <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.\src\main\java<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>enableSubPackages<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>trimStrings<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>javaModelGenerator</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- SQLæ˜ å°„æ–‡ä»¶çš„ç”Ÿæˆç­–ç•¥ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sqlMapGenerator</span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iceriver.mybatis.mapper<span class="token punctuation">&quot;</span></span>
                         <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.\src\main\resources<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>enableSubPackages<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sqlMapGenerator</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Mapperæ¥å£çš„ç”Ÿæˆç­–ç•¥ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javaClientGenerator</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>XMLMAPPER<span class="token punctuation">&quot;</span></span>
                             <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iceriver.mybatis.mapper<span class="token punctuation">&quot;</span></span>
                             <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.\src\main\java<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>enableSubPackages<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>javaClientGenerator</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- é€†å‘åˆ†æçš„è¡¨ --&gt;</span>
        <span class="token comment">&lt;!-- tableNameè®¾ç½®ä¸º*å·ï¼Œå¯ä»¥å¯¹åº”æ‰€æœ‰è¡¨ï¼Œæ­¤æ—¶ä¸å†™domainObjectName --&gt;</span>
        <span class="token comment">&lt;!-- domainObjectNameå±æ€§æŒ‡å®šç”Ÿæˆå‡ºæ¥çš„å®ä½“ç±»çš„ç±»å --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">tableName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t_emp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">domainObjectName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">tableName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t_dept<span class="token punctuation">&quot;</span></span> <span class="token attr-name">domainObjectName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Dept<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>generatorConfiguration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ–‡ä»¶åç§°æ˜¯å›ºå®šçš„å—ï¼Ÿ</li></ul><h4 id="_7-2-3-æ‰§è¡Œmbgæ’ä»¶" tabindex="-1"><a class="header-anchor" href="#_7-2-3-æ‰§è¡Œmbgæ’ä»¶" aria-hidden="true">#</a> 7.2.3 æ‰§è¡ŒMBGæ’ä»¶</h4><p><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658916411854-120f0333-7fc8-4b58-9260-3105cd9e935a.png#clientId=u58a324e4-3d2a-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=1032&amp;id=uc92f2bfb&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=1032&amp;originWidth=1920&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=316934&amp;status=done&amp;style=none&amp;taskId=ud6ed4f14-0910-4bb7-bb1e-b0caa6e4c6e&amp;title=&amp;width=1920" alt="image.png" loading="lazy"></p><ol><li>ç®€æ´ç‰ˆç”Ÿæˆçš„mapperæ–‡ä»¶ï¼š <ul><li><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658916644615-0e8af097-ee3c-4e9e-8c99-1ce1b30a149c.png#clientId=u58a324e4-3d2a-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=543&amp;id=b2ous&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=543&amp;originWidth=318&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=33494&amp;status=done&amp;style=none&amp;taskId=u1317c607-979b-4128-a9c3-674565551b5&amp;title=&amp;width=318" alt="image.png" loading="lazy"></li><li><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658916561997-b54ee404-bfad-4298-866e-918468ebe253.png#clientId=u58a324e4-3d2a-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=525&amp;id=A21Po&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=525&amp;originWidth=681&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=53438&amp;status=done&amp;style=none&amp;taskId=u8b3c6928-02d2-4476-a562-e934a538ac0&amp;title=&amp;width=681" alt="image.png" loading="lazy"></li></ul></li><li>å¥¢åç‰ˆç”Ÿæˆçš„mapperæ–‡ä»¶ï¼š <ul><li><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658916930928-b297428d-2dd5-4eb7-bec2-095807fd7d9c.png#clientId=u58a324e4-3d2a-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=578&amp;id=u2e652cee&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=578&amp;originWidth=327&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=34174&amp;status=done&amp;style=none&amp;taskId=ubcc0c30a-dc2e-465b-99bf-8ad10affd24&amp;title=&amp;width=327" alt="image.png" loading="lazy"></li><li><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1658918601306-c5b83ea4-ff78-4ab0-b152-20cc367dc7ef.png#clientId=u58a324e4-3d2a-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=242&amp;id=u91484c7e&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=242&amp;originWidth=394&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=15962&amp;status=done&amp;style=none&amp;taskId=uc2eb6d51-9139-40af-9f0c-605b3cec8f3&amp;title=&amp;width=394" alt="image.png" loading="lazy"></li><li>å¸¦<code>Selective</code>çš„æ–¹æ³•ä¸ä¸å¸¦çš„åŒºåˆ«æ˜¯ï¼šå¦‚æœä¼ å…¥çš„å‚æ•°æœ‰<code>null</code>ï¼Œå¸¦<code>Selective</code>çš„æ–¹æ³•ä¸ä¼šä¿®æ”¹åŸå€¼ï¼Œä¸å¸¦<code>Selective</code>çš„æ–¹æ³•ä¼šå°†åŸå€¼æ”¹ä¸º<code>null</code></li></ul></li></ol><h4 id="_7-2-4-qbcæŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_7-2-4-qbcæŸ¥è¯¢" aria-hidden="true">#</a> 7.2.4 QBCæŸ¥è¯¢</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">iceriver<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">iceriver<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>bean<span class="token punctuation">.</span></span><span class="token class-name">Emp</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">iceriver<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>bean<span class="token punctuation">.</span></span><span class="token class-name">EmpExample</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">iceriver<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">EmpMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>


<span class="token doc-comment comment">/**
* <span class="token keyword">@author</span>: INFINITY https://developer.aliyun.com/profile/sagwrxp2ua66w
* <span class="token keyword">@date</span>: 2022/7/27 18:25
*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MBGTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testMBG</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">SqlSessionFactory</span> build <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> build<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">EmpMapper</span> mapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmpMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//1. æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥</span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Emp</span><span class="token punctuation">&gt;</span></span> emps <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">selectByExample</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            emps<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>emp <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>emp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">//2. æ ¹æ®æ¡ä»¶æŸ¥è¯¢</span>
            <span class="token class-name">EmpExample</span> empExample <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EmpExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            empExample<span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">andEmpNameEqualTo</span><span class="token punctuation">(</span><span class="token string">&quot;a1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">andAgeGreaterThan</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            empExample<span class="token punctuation">.</span><span class="token function">or</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">andDidIsNotNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Emp</span><span class="token punctuation">&gt;</span></span> emps <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">selectByExample</span><span class="token punctuation">(</span>empExample<span class="token punctuation">)</span><span class="token punctuation">;</span>
            emps<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>emp <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>emp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">//3. ä¿®æ”¹</span>
            mapper<span class="token punctuation">.</span><span class="token function">updateByPrimaryKey</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Emp</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;wuxie&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="â­ç¬¬8ç« -åˆ†é¡µæ’ä»¶" tabindex="-1"><a class="header-anchor" href="#â­ç¬¬8ç« -åˆ†é¡µæ’ä»¶" aria-hidden="true">#</a> â­ç¬¬8ç«  åˆ†é¡µæ’ä»¶</h2><h3 id="_8-1-æ·»åŠ ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_8-1-æ·»åŠ ä¾èµ–" aria-hidden="true">#</a> 8.1 æ·»åŠ ä¾èµ–</h3><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.github.pagehelper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>pagehelper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.2.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-2-é…ç½®åˆ†é¡µæ’ä»¶" tabindex="-1"><a class="header-anchor" href="#_8-2-é…ç½®åˆ†é¡µæ’ä»¶" aria-hidden="true">#</a> 8.2 é…ç½®åˆ†é¡µæ’ä»¶</h3><ol><li>åœ¨<code>mybatic-config.xml</code>æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­é…ç½®æ’ä»¶ï¼š</li></ol><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--è®¾ç½®åˆ†é¡µæ’ä»¶--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span> <span class="token attr-name">interceptor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.github.pagehelper.PageInterceptor<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-3-ä½¿ç”¨åˆ†é¡µæŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_8-3-ä½¿ç”¨åˆ†é¡µæŸ¥è¯¢" aria-hidden="true">#</a> 8.3 ä½¿ç”¨åˆ†é¡µæŸ¥è¯¢</h3><ol><li>åœ¨æŸ¥è¯¢åŠŸèƒ½ä¹‹å‰ä½¿ç”¨<code>PageHelper.startPage(int pageNum, int pageSize)</code>å¼€å¯åˆ†é¡µåŠŸèƒ½ <ul><li><code>pageNum</code>ï¼šå½“å‰é¡µçš„é¡µç </li><li><code>pageSize</code>ï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</li></ul></li><li>åœ¨æŸ¥è¯¢è·å–åˆ°listé›†åˆä¹‹åï¼Œä½¿ç”¨<code>PageInfo&lt;T&gt; pageInfo = new PageInfo&lt;&gt;(List&lt;T&gt; list, int navigatePages)</code>è·å–åˆ†é¡µç›¸å…³æ•°æ® <ul><li><code>list</code>ï¼šåˆ†é¡µä¹‹åçš„æ•°æ®</li><li><code>navigatePages</code>ï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç æ•°</li></ul></li><li>åˆ†é¡µ<code>pageInfo</code>ç›¸å…³æ•°æ®ï¼š <ul><li><code>pageNum</code>ï¼šå½“å‰é¡µçš„é¡µç </li><li><code>pageSize</code>ï¼šæ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</li><li><code>size</code>ï¼šå½“å‰é¡µæ˜¾ç¤ºçš„çœŸå®æ¡æ•°</li><li><code>total</code>ï¼šæ€»è®°å½•æ•°</li><li><code>pages</code>ï¼šæ€»é¡µæ•°</li><li><code>prePage</code>ï¼šä¸Šä¸€é¡µçš„é¡µç </li><li><code>nextPage</code>ï¼šä¸‹ä¸€é¡µçš„é¡µç </li><li><code>isFirstPage/isLastPage</code>ï¼šæ˜¯å¦ä¸ºç¬¬ä¸€é¡µ/æœ€åä¸€é¡µ</li><li><code>hasPreviousPage/hasNextPage</code>ï¼šæ˜¯å¦å­˜åœ¨ä¸Šä¸€é¡µ/ä¸‹ä¸€é¡µ</li><li><code>navigatePages</code>ï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç æ•°</li><li><code>navigatepageNums</code>ï¼šå¯¼èˆªåˆ†é¡µçš„é¡µç ï¼Œ[1,2,3,4,5]</li></ul></li></ol></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/sk370/edit/main/demo/src/javaframe/mybatis.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><!----><!----></footer><!----><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">é»˜è®¤é¡µè„š</div><div class="copyright">Copyright Â© 2022 æœ±å®‡ç¦</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.b5795010.js" defer></script>
  </body>
</html>
