<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.49" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-v2-demo.mrhope.site/javase/java-3.html"><meta property="og:site_name" content="æœ±å®‡ç¦"><meta property="og:title" content="Javaè¯­è¨€åŸºç¡€ï¼ˆä¸‹ï¼‰"><meta property="og:description" content="æœ¬æ–‡ä»‹ç»äº†Javaè¯­è¨€çš„åŸºç¡€ï¼Œæ˜¯Javaè¯­è¨€çš„ç¬¬ä¸‰éƒ¨åˆ†ã€‚"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="article:published_time" content="2022-06-30T00:00:00.000Z"><title>Javaè¯­è¨€åŸºç¡€ï¼ˆä¸‹ï¼‰ | æœ±å®‡ç¦</title><meta name="description" content="Javaå¼€å‘ä¸ªäººçŸ¥è¯†åº“">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.e12d86fd.css">
    <link rel="modulepreload" href="/assets/app.b5795010.js"><link rel="modulepreload" href="/assets/java-3.html.647cb4fc.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/java-3.html.7f1c2878.js"><link rel="prefetch" href="/assets/about.html.cb7123e3.js"><link rel="prefetch" href="/assets/index.html.af3f4bfc.js"><link rel="prefetch" href="/assets/MySQL.html.826162cf.js"><link rel="prefetch" href="/assets/maven.html.9bb36588.js"><link rel="prefetch" href="/assets/mybatis-plus.html.eaf8c687.js"><link rel="prefetch" href="/assets/mybatis.html.61cd77e5.js"><link rel="prefetch" href="/assets/spring-boot.html.28bfae91.js"><link rel="prefetch" href="/assets/spring-mvc.html.97fa2929.js"><link rel="prefetch" href="/assets/spring5.html.3825d19d.js"><link rel="prefetch" href="/assets/ssm.html.b4ddd8e0.js"><link rel="prefetch" href="/assets/java-1.html.5450f139.js"><link rel="prefetch" href="/assets/java-2.html.051bbb84.js"><link rel="prefetch" href="/assets/javaweb.html.95dcb090.js"><link rel="prefetch" href="/assets/404.html.d726b30e.js"><link rel="prefetch" href="/assets/index.html.5cab3570.js"><link rel="prefetch" href="/assets/index.html.90cc3bb8.js"><link rel="prefetch" href="/assets/index.html.acb5cd63.js"><link rel="prefetch" href="/assets/index.html.475144ed.js"><link rel="prefetch" href="/assets/index.html.e782eed2.js"><link rel="prefetch" href="/assets/index.html.16d171b2.js"><link rel="prefetch" href="/assets/index.html.5652f0e7.js"><link rel="prefetch" href="/assets/index.html.7d36e429.js"><link rel="prefetch" href="/assets/index.html.2cbbd98b.js"><link rel="prefetch" href="/assets/index.html.7e76503d.js"><link rel="prefetch" href="/assets/index.html.acc07b1c.js"><link rel="prefetch" href="/assets/index.html.164c33a6.js"><link rel="prefetch" href="/assets/index.html.8e9b3cfe.js"><link rel="prefetch" href="/assets/index.html.56d35abe.js"><link rel="prefetch" href="/assets/index.html.f097ea2d.js"><link rel="prefetch" href="/assets/index.html.b7554509.js"><link rel="prefetch" href="/assets/index.html.71aa4705.js"><link rel="prefetch" href="/assets/index.html.25365451.js"><link rel="prefetch" href="/assets/about.html.8d85a71a.js"><link rel="prefetch" href="/assets/index.html.896673be.js"><link rel="prefetch" href="/assets/MySQL.html.e5fda28c.js"><link rel="prefetch" href="/assets/maven.html.cf7a33a7.js"><link rel="prefetch" href="/assets/mybatis-plus.html.4506f634.js"><link rel="prefetch" href="/assets/mybatis.html.1d6aea26.js"><link rel="prefetch" href="/assets/spring-boot.html.72b3b9af.js"><link rel="prefetch" href="/assets/spring-mvc.html.7abd401a.js"><link rel="prefetch" href="/assets/spring5.html.b1c404c7.js"><link rel="prefetch" href="/assets/ssm.html.bd0c07cd.js"><link rel="prefetch" href="/assets/java-1.html.ef1266db.js"><link rel="prefetch" href="/assets/java-2.html.fa6b9aa1.js"><link rel="prefetch" href="/assets/javaweb.html.87fc85c4.js"><link rel="prefetch" href="/assets/404.html.32ee93c4.js"><link rel="prefetch" href="/assets/index.html.2a7aa51e.js"><link rel="prefetch" href="/assets/index.html.f9a3f11b.js"><link rel="prefetch" href="/assets/index.html.85335f35.js"><link rel="prefetch" href="/assets/index.html.caee9c6b.js"><link rel="prefetch" href="/assets/index.html.486fbf92.js"><link rel="prefetch" href="/assets/index.html.04d53dae.js"><link rel="prefetch" href="/assets/index.html.e3e04d18.js"><link rel="prefetch" href="/assets/index.html.00be6942.js"><link rel="prefetch" href="/assets/index.html.be398c84.js"><link rel="prefetch" href="/assets/index.html.04e36366.js"><link rel="prefetch" href="/assets/index.html.83f65593.js"><link rel="prefetch" href="/assets/index.html.50577557.js"><link rel="prefetch" href="/assets/index.html.de291a54.js"><link rel="prefetch" href="/assets/index.html.b1103842.js"><link rel="prefetch" href="/assets/index.html.46f3da8e.js"><link rel="prefetch" href="/assets/index.html.219d8a8b.js"><link rel="prefetch" href="/assets/index.html.ae189603.js"><link rel="prefetch" href="/assets/index.html.f16012f8.js"><link rel="prefetch" href="/assets/404.940b8618.js"><link rel="prefetch" href="/assets/Layout.a2d3c614.js"><link rel="prefetch" href="/assets/Slide.55099168.js"><link rel="prefetch" href="/assets/Blog.b6bd909f.js"><link rel="prefetch" href="/assets/auto.esm.36809f22.js"><link rel="prefetch" href="/assets/index.daae04bf.js"><link rel="prefetch" href="/assets/index.1842ee54.js"><link rel="prefetch" href="/assets/mermaid.esm.min.ee1e0284.js"><link rel="prefetch" href="/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/assets/photoswipe.esm.092fbc15.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/3.jpg" alt="æœ±å®‡ç¦"><!----><span class="site-name hide-in-pad">æœ±å®‡ç¦</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="åšå®¢ä¸»é¡µ"><span class="icon iconfont icon-home"></span>åšå®¢ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="JavaSE"><span class="title"><span class="icon iconfont icon-creative"></span>JavaSE</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/javase/java-1.html" class="nav-link" aria-label="Javaè¯­è¨€åŸºç¡€ï¼ˆä¸Šï¼‰"><span class="icon iconfont icon-note"></span>Javaè¯­è¨€åŸºç¡€ï¼ˆä¸Šï¼‰<!----></a></li><li class="dropdown-item"><a href="/javase/java-2.html" class="nav-link" aria-label="Javaè¯­è¨€åŸºç¡€ï¼ˆä¸­ï¼‰"><span class="icon iconfont icon-note"></span>Javaè¯­è¨€åŸºç¡€ï¼ˆä¸­ï¼‰<!----></a></li><li class="dropdown-item"><a aria-current="page" href="/javase/java-3.html" class="router-link-active router-link-exact-active nav-link active" aria-label="Javaè¯­è¨€åŸºç¡€ï¼ˆä¸‹ï¼‰"><span class="icon iconfont icon-note"></span>Javaè¯­è¨€åŸºç¡€ï¼ˆä¸‹ï¼‰<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/javaweb/javaweb.html" class="nav-link" aria-label="JavaWeb"><span class="icon iconfont icon-creative"></span>JavaWeb<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ•°æ®åº“"><span class="title"><span class="icon iconfont icon-creative"></span>æ•°æ®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/database/MySQL.html" class="nav-link" aria-label="MySQL"><span class="icon iconfont icon-note"></span>MySQL<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Javaæ¡†æ¶"><span class="title"><span class="icon iconfont icon-note"></span>Javaæ¡†æ¶</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ„å»ºå·¥å…·</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javaframe/maven.html" class="nav-link" aria-label="Maven"><span class="icon iconfont icon-note"></span>Maven<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Springæ¡†æ¶</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javaframe/spring5.html" class="nav-link" aria-label="Spring5"><span class="icon iconfont icon-note"></span>Spring5<!----></a></li><li class="dropdown-subitem"><a href="/javaframe/spring-mvc.html" class="nav-link" aria-label="SpringMVC"><span class="icon iconfont icon-note"></span>SpringMVC<!----></a></li><li class="dropdown-subitem"><a href="/javaframe/spring-boot.html" class="nav-link" aria-label="Spring Boot"><span class="icon iconfont icon-note"></span>Spring Boot<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æŒä¹…å±‚æ¡†æ¶</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javaframe/mybatis.html" class="nav-link" aria-label="Mybatis"><span class="icon iconfont icon-note"></span>Mybatis<!----></a></li><li class="dropdown-subitem"><a href="/javaframe/mybatis-plus.html" class="nav-link" aria-label="Mybatis-Plus"><span class="icon iconfont icon-note"></span>Mybatis-Plus<!----></a></li></ul></li><li class="dropdown-item"><a href="/javaframe/ssm.html" class="nav-link" aria-label="SSMæ•´åˆ"><span class="icon iconfont icon-note"></span>SSMæ•´åˆ<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/about.html" class="nav-link" aria-label="å…³äº"><span class="icon iconfont icon-note"></span>å…³äº<!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/sk370" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/" class="nav-link sidebar-link sidebar-page" aria-label="åšå®¢ä¸»é¡µ"><span class="icon iconfont icon-home"></span>åšå®¢ä¸»é¡µ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><span class="icon iconfont icon-note"></span><span class="title">JavaSE</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/javase/java-1.html" class="nav-link sidebar-link sidebar-page" aria-label="Javaè¯­è¨€åŸºç¡€ï¼ˆä¸Šï¼‰"><span class="icon iconfont icon-creative"></span>Javaè¯­è¨€åŸºç¡€ï¼ˆä¸Šï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/javase/java-2.html" class="nav-link sidebar-link sidebar-page" aria-label="Javaè¯­è¨€åŸºç¡€ï¼ˆä¸­ï¼‰"><span class="icon iconfont icon-creative"></span>Javaè¯­è¨€åŸºç¡€ï¼ˆä¸­ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/javase/java-3.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Javaè¯­è¨€åŸºç¡€ï¼ˆä¸‹ï¼‰"><span class="icon iconfont icon-creative"></span>Javaè¯­è¨€åŸºç¡€ï¼ˆä¸‹ï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#ç¬¬14ç« -jdbcå’Œæ•°æ®åº“è¿æ¥æ± " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç¬¬14ç«  JDBCå’Œæ•°æ®åº“è¿æ¥æ± "><!---->ç¬¬14ç«  JDBCå’Œæ•°æ®åº“è¿æ¥æ± <!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#_14-1-jdbcæ¦‚è¿°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="14.1 JDBCæ¦‚è¿°"><!---->14.1 JDBCæ¦‚è¿°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#_14-2-è·å–æ•°æ®åº“è¿æ¥-connection-çš„5ç§æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="14.2 è·å–æ•°æ®åº“è¿æ¥ï¼ˆconnectionï¼‰çš„5ç§æ–¹å¼"><!---->14.2 è·å–æ•°æ®åº“è¿æ¥ï¼ˆconnectionï¼‰çš„5ç§æ–¹å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#_14-3-ç»“æœé›†-resultset" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="14.3 ç»“æœé›†ï¼ˆResultSetï¼‰"><!---->14.3 ç»“æœé›†ï¼ˆResultSetï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#_14-4-sqlæ³¨å…¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="14.4 SQLæ³¨å…¥"><!---->14.4 SQLæ³¨å…¥<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#_14-5-preparedstatementé¢„å¤„ç†çš„ä½¿ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="14.5 PreparedStatementé¢„å¤„ç†çš„ä½¿ç”¨"><!---->14.5 PreparedStatementé¢„å¤„ç†çš„ä½¿ç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#_14-6-jdbcäº‹åŠ¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="14.6 JDBCäº‹åŠ¡"><!---->14.6 JDBCäº‹åŠ¡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#_14-7-æ‰¹å¤„ç†-batch" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="14.7 æ‰¹å¤„ç†ï¼ˆbatchï¼‰"><!---->14.7 æ‰¹å¤„ç†ï¼ˆbatchï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#_14-8-æ•°æ®åº“è¿æ¥æ± " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="14.8 æ•°æ®åº“è¿æ¥æ± "><!---->14.8 æ•°æ®åº“è¿æ¥æ± <!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#_14-9-apacheä¹‹dbutils" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="14.9 Apacheä¹‹DBUtils"><!---->14.9 Apacheä¹‹DBUtils<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#_14-10-daoå’Œå¢åˆ æ”¹æŸ¥æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="14.10 Daoå’Œå¢åˆ æ”¹æŸ¥æ–¹æ³•"><!---->14.10 Daoå’Œå¢åˆ æ”¹æŸ¥æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#_14-11-å°è£…jdbcå·¥å…·ç±»åŠä½¿ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="14.11 å°è£…JDBCå·¥å…·ç±»åŠä½¿ç”¨"><!---->14.11 å°è£…JDBCå·¥å…·ç±»åŠä½¿ç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#ç¬¬15ç« -æ­£åˆ™è¡¨è¾¾å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç¬¬15ç«  æ­£åˆ™è¡¨è¾¾å¼"><!---->ç¬¬15ç«  æ­£åˆ™è¡¨è¾¾å¼<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#_15-1-åŸºæœ¬ä»‹ç»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="15.1 åŸºæœ¬ä»‹ç»"><!---->15.1 åŸºæœ¬ä»‹ç»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#_15-2-å¿«é€Ÿå…¥é—¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="15.2 å¿«é€Ÿå…¥é—¨"><!---->15.2 å¿«é€Ÿå…¥é—¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/javase/java-3.html#_15-2-åº•å±‚å®ç°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="15.2 åº•å±‚å®ç°"><!---->15.2 åº•å±‚å®ç°<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><a href="/javaweb/javaweb.html" class="nav-link sidebar-link sidebar-page" aria-label="Java Web"><span class="icon iconfont icon-note"></span>Java Web<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-note"></span><span class="title">æ•°æ®åº“</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/database/MySQL.html" class="nav-link sidebar-link sidebar-page" aria-label="MySQL"><span class="icon iconfont icon-creative"></span>MySQL<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-note"></span><span class="title">Javaæ¡†æ¶</span><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">æ„å»ºå·¥å…·</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">Springæ¡†æ¶</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="icon iconfont icon-note"></span><span class="title">SSMæ•´åˆ</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon iconfont icon-edit"></span>Javaè¯­è¨€åŸºç¡€ï¼ˆä¸‹ï¼‰</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" localizeddate="2022å¹´6æœˆ30æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="author-item">æœ±å®‡ç¦</span></span><span property="author" content="æœ±å®‡ç¦"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´6æœˆ30æ—¥</span><meta property="datePublished" content="2022-06-30T00:00:00.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down" localizeddate="2022å¹´6æœˆ30æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category0 clickable" role="navigation">ç¼–ç¨‹è¯­è¨€</li><li class="category category4 clickable" role="navigation">Java</li><meta property="articleSection" content="ç¼–ç¨‹è¯­è¨€,Java"></ul></span><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" localizeddate="2022å¹´6æœˆ30æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 15 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT15M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#ç¬¬14ç« -jdbcå’Œæ•°æ®åº“è¿æ¥æ± " class="router-link-active router-link-exact-active toc-link level2">ç¬¬14ç«  JDBCå’Œæ•°æ®åº“è¿æ¥æ± </a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#_14-1-jdbcæ¦‚è¿°" class="router-link-active router-link-exact-active toc-link level3">14.1 JDBCæ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#_14-2-è·å–æ•°æ®åº“è¿æ¥-connection-çš„5ç§æ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">14.2 è·å–æ•°æ®åº“è¿æ¥ï¼ˆconnectionï¼‰çš„5ç§æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#_14-3-ç»“æœé›†-resultset" class="router-link-active router-link-exact-active toc-link level3">14.3 ç»“æœé›†ï¼ˆResultSetï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#_14-4-sqlæ³¨å…¥" class="router-link-active router-link-exact-active toc-link level3">14.4 SQLæ³¨å…¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#_14-5-preparedstatementé¢„å¤„ç†çš„ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level3">14.5 PreparedStatementé¢„å¤„ç†çš„ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#_14-6-jdbcäº‹åŠ¡" class="router-link-active router-link-exact-active toc-link level3">14.6 JDBCäº‹åŠ¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#_14-7-æ‰¹å¤„ç†-batch" class="router-link-active router-link-exact-active toc-link level3">14.7 æ‰¹å¤„ç†ï¼ˆbatchï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#_14-8-æ•°æ®åº“è¿æ¥æ± " class="router-link-active router-link-exact-active toc-link level3">14.8 æ•°æ®åº“è¿æ¥æ± </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#_14-9-apacheä¹‹dbutils" class="router-link-active router-link-exact-active toc-link level3">14.9 Apacheä¹‹DBUtils</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#_14-10-daoå’Œå¢åˆ æ”¹æŸ¥æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">14.10 Daoå’Œå¢åˆ æ”¹æŸ¥æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#_14-11-å°è£…jdbcå·¥å…·ç±»åŠä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level3">14.11 å°è£…JDBCå·¥å…·ç±»åŠä½¿ç”¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#ç¬¬15ç« -æ­£åˆ™è¡¨è¾¾å¼" class="router-link-active router-link-exact-active toc-link level2">ç¬¬15ç«  æ­£åˆ™è¡¨è¾¾å¼</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#_15-1-åŸºæœ¬ä»‹ç»" class="router-link-active router-link-exact-active toc-link level3">15.1 åŸºæœ¬ä»‹ç»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#_15-2-å¿«é€Ÿå…¥é—¨" class="router-link-active router-link-exact-active toc-link level3">15.2 å¿«é€Ÿå…¥é—¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/javase/java-3.html#_15-2-åº•å±‚å®ç°" class="router-link-active router-link-exact-active toc-link level3">15.2 åº•å±‚å®ç°</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="javaè¯­è¨€åŸºç¡€-ä¸‹" tabindex="-1"><a class="header-anchor" href="#javaè¯­è¨€åŸºç¡€-ä¸‹" aria-hidden="true">#</a> Javaè¯­è¨€åŸºç¡€ï¼ˆä¸‹ï¼‰</h1><h2 id="ç¬¬14ç« -jdbcå’Œæ•°æ®åº“è¿æ¥æ± " tabindex="-1"><a class="header-anchor" href="#ç¬¬14ç« -jdbcå’Œæ•°æ®åº“è¿æ¥æ± " aria-hidden="true">#</a> ç¬¬14ç«  JDBCå’Œæ•°æ®åº“è¿æ¥æ± </h2><blockquote><ul><li>è¦æ±‚ï¼šå­¦ä¹ äº†Mysqlï¼ˆsqlè¯­å¥ï¼‰ä¹‹å</li></ul></blockquote><h3 id="_14-1-jdbcæ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#_14-1-jdbcæ¦‚è¿°" aria-hidden="true">#</a> 14.1 JDBCæ¦‚è¿°</h3><h4 id="_14-1-1-jdbcåŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_14-1-1-jdbcåŸºæœ¬ä»‹ç»" aria-hidden="true">#</a> 14.1.1 JDBCåŸºæœ¬ä»‹ç»</h4><ol><li>å«ä¹‰ï¼šJava DataBase Connectivityï¼ŒJavaæ•°æ®åº“è¿æ¥ï¼Œç”¨äºæ‰§è¡ŒSQLè¯­å¥çš„JavaAPIï¼Œç”±ç±»å’Œæ¥å£ç»„æˆï¼Œæä¾›äº†ä¸ªå¯ä»¥æ„å»ºæ›´é«˜çº§å·¥å…·å’Œæ¥å£å»è®¿é—®æ•°æ®åº“çš„åŸºå‡†ã€‚</li><li>ä½œç”¨ï¼šjavaç¨‹åºå‘˜ä½¿ç”¨JDBCï¼Œå¯ä»¥è¿æ¥ä»»ä½•æä¾›äº†JDBCé©±åŠ¨ç¨‹åºçš„æ•°æ®åº“ç³»ç»Ÿï¼Œä»è€Œå®Œæˆå¯¹æ•°æ®åº“çš„å„ç§æ“ä½œã€‚JDBCä¸ºè®¿é—®ä¸åŒçš„æ•°æ®åº“æä¾›äº†ç»Ÿä¸€çš„æ¥å£ï¼Œä¸ºä½¿ç”¨è€…å±è”½äº†ç»†èŠ‚é—®é¢˜ã€‚</li><li>åŸºæœ¬åŸç†å›¾ï¼š <ul><li><img src="/images/javase/java-3/1555575941569.png" alt="1555575941569.png" loading="lazy"></li></ul></li><li>æ¨¡æ‹ŸJDBCæ¥å£</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">JdbcInterface</span> <span class="token punctuation">{</span>
    <span class="token comment">//è¿æ¥</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token comment">//crud</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">crud</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//å…³é—­è¿æ¥</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MysqlJdbcImpl</span> <span class="token keyword">implements</span>  <span class="token class-name">JdbcInterface</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å¾—åˆ° mysql çš„è¿æ¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">crud</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å®Œæˆ mysql å¢åˆ æ”¹æŸ¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å…³é—­ mysql çš„è¿æ¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_14-1-2-jdbc-api" tabindex="-1"><a class="header-anchor" href="#_14-1-2-jdbc-api" aria-hidden="true">#</a> 14.1.2 JDBC API</h4><p>![JDBC API.jpeg](/images/javase/java-3/JDBC API.jpeg)</p><ul><li><img src="/images/javase/java-3/image.png" alt="image.png" loading="lazy"><img src="/images/javase/java-3/image-1660813495995.png" alt="image.png" loading="lazy"></li><li><img src="/images/javase/java-3/image-1660813502282.png" alt="image.png" loading="lazy"><img src="/images/javase/java-3/image-1660813505362.png" alt="image.png" loading="lazy"></li></ul><h4 id="_14-1-3-mysqljdbc" tabindex="-1"><a class="header-anchor" href="#_14-1-3-mysqljdbc" aria-hidden="true">#</a> 14.1.3 MySQLJDBC</h4><ol><li>ç‰ˆæœ¬æ”¯æŒï¼š <ul><li><img src="/images/javase/java-3/image-1660813508433.png" alt="image.png" loading="lazy"></li></ul></li><li>ä¸‹è½½åœ°å€ï¼š <ul><li><img src="/images/javase/java-3/image-1660813510303.png" alt="image.png" loading="lazy"></li><li><img src="/images/javase/java-3/image-1660813517697.png" alt="image.png" loading="lazy"></li></ul></li></ol><h4 id="_14-1-3-jdbcç¨‹åºç¼–å†™æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#_14-1-3-jdbcç¨‹åºç¼–å†™æ­¥éª¤" aria-hidden="true">#</a> 14.1.3 JDBCç¨‹åºç¼–å†™æ­¥éª¤</h4><blockquote><ul><li>å‰ç½®å·¥ä½œï¼šåœ¨é¡¹ç›®æ–‡ä»¶ç›®å½•ä¸­åŠ è½½å¯¹åº”æ•°æ®åº“çš„JDBCå·¥å…·åŒ…</li><li><img src="/images/javase/java-3/image-1660813520667.png" alt="image.png" loading="lazy"><img src="/images/javase/java-3/image-1660813523872.png" alt="image.png" loading="lazy"></li></ul></blockquote><ol><li>æ³¨å†Œé©±åŠ¨â€”â€”åŠ è½½Driverç±» <ul><li>æœ‰å¼‚å¸¸é—®é¢˜</li></ul></li><li>è·å–è¿æ¥â€”â€”å¾—åˆ°Connection</li><li>æ‰§è¡ŒCRUDâ€”â€”å‘é€sqlè¯­å¥ï¼ˆå­—ç¬¦ä¸²ï¼‰ç»™mysqlæ‰§è¡Œ</li><li>é‡Šæ”¾èµ„æºâ€”â€”å…³é—­ç›¸å…³è¿æ¥</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//1. æ³¨å†Œé©±åŠ¨â€”â€”åŠ è½½Driverç±»</span>
<span class="token class-name">Driver</span> driver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>mysql<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span></span>Driver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2. è·å–è¿æ¥â€”â€”å¾—åˆ°Connection</span>
<span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql://localhost:13306/db01&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;dimitre123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Connection</span> connect <span class="token operator">=</span> driver<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> properties<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//3. æ‰§è¡ŒCRUDâ€”â€”å‘é€sqlè¯­å¥ï¼ˆå­—ç¬¦ä¸²ï¼‰ç»™mysqlæ‰§è¡Œ</span>
<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;crudçš„SQLè¯­å¥&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//3.1 statementå¯¹è±¡ç”¨äºå‘æ•°æ®åº“å‘é€sqlè¯­å¥</span>
<span class="token class-name">Statement</span> statement <span class="token operator">=</span> connect<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> rows <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//4. é‡Šæ”¾èµ„æºâ€”â€”å…³é—­ç›¸å…³è¿æ¥</span>
statement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
connect<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container danger"><p class="custom-container-title">è­¦å‘Š</p><ul><li>è§£è¯»ï¼š <ul><li>urlï¼š <ul><li><code>jdbc:mysql</code>ï¼šä½¿ç”¨çš„è¿æ¥åè®®</li><li><code>localhost</code>ï¼šè¿æ¥åœ°å€ï¼ˆæ•°æ®åº“åœ°å€ï¼‰</li><li><code>13306</code>ï¼šæ•°æ®åº“ç«¯å£å·</li><li><code>db01</code>ï¼šæ•°æ®åº“åç§°</li><li>mysqlè¿æ¥çš„æœ¬è´¨æ˜¯socketè¿æ¥</li></ul></li><li>propertieså¯¹è±¡ï¼š <ul><li><code>setProperty()</code>çš„<code>user</code>ã€<code>password</code>æ˜¯è§„å®šå¥½çš„</li></ul></li><li><code>excuteUpdate(sql)</code>ï¼šdmlè¯­å¥æ—¶ï¼Œè¿”å›çš„æ˜¯å½±å“çš„è¡Œæ•°ã€‚ :::</li></ul></li></ul><h3 id="_14-2-è·å–æ•°æ®åº“è¿æ¥-connection-çš„5ç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_14-2-è·å–æ•°æ®åº“è¿æ¥-connection-çš„5ç§æ–¹å¼" aria-hidden="true">#</a> 14.2 è·å–æ•°æ®åº“è¿æ¥ï¼ˆconnectionï¼‰çš„5ç§æ–¹å¼</h3><h4 id="_14-2-1-ä½¿ç”¨driverç±»çš„connect-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_14-2-1-ä½¿ç”¨driverç±»çš„connect-æ–¹æ³•" aria-hidden="true">#</a> 14.2.1 ä½¿ç”¨Driverç±»çš„<code>connect()</code>æ–¹æ³•</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//1. æ³¨å†Œé©±åŠ¨â€”â€”åŠ è½½Driverç±»</span>
<span class="token class-name">Driver</span> driver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>mysql<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span></span>Driver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2. è·å–è¿æ¥â€”â€”å¾—åˆ°Connection</span>
<span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql://localhost:13306/db01&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;dimitre123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Connection</span> connect <span class="token operator">=</span> driver<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> properties<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å­˜åœ¨é—®é¢˜ï¼šDriver()æ˜¯ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œä¾èµ–å¼ºã€çµæ´»æ€§å·®ï¼Œä¸”å±äºé™æ€åŠ è½½ã€‚</li></ul><h4 id="_14-2-2-ä½¿ç”¨åå°„è·å–driver-å†ä½¿ç”¨connect-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_14-2-2-ä½¿ç”¨åå°„è·å–driver-å†ä½¿ç”¨connect-æ–¹æ³•" aria-hidden="true">#</a> 14.2.2 ä½¿ç”¨åå°„è·å–Driverï¼Œå†ä½¿ç”¨<code>connect()</code>æ–¹æ³•</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//1. æ³¨å†Œé©±åŠ¨â€”â€”åŠ è½½Driverç±»</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> aClass <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Driver</span> driver <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Driver</span><span class="token punctuation">)</span>aClass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2. è·å–è¿æ¥â€”â€”å¾—åˆ°Connection</span>
<span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql://localhost:13306/db01&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;dimitre123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Connection</span> connect <span class="token operator">=</span> driver<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> properties<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¥½å¤„ï¼šåŠ¨æ€åŠ è½½ï¼Œå‡å°‘ä¾èµ–æ€§ï¼Œæ›´åŠ çµæ´»ã€‚</li></ul><h4 id="_14-2-3-ä½¿ç”¨drivermanageræ³¨å†Œé©±åŠ¨" tabindex="-1"><a class="header-anchor" href="#_14-2-3-ä½¿ç”¨drivermanageræ³¨å†Œé©±åŠ¨" aria-hidden="true">#</a> 14.2.3 ä½¿ç”¨DriverManageræ³¨å†Œé©±åŠ¨</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//1. æ³¨å†Œé©±åŠ¨â€”â€”åŠ è½½Driverç±»</span>
<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> aClass <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Driver</span> driver <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Driver</span><span class="token punctuation">)</span>aClass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2. è·å–è¿æ¥â€”â€”å¾—åˆ°Connection</span>
<span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql://localhost:13306/db01&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;dimitre123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">registerDriver</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ³¨å†ŒDriveré©±åŠ¨</span>

<span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> properties<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_14-2-4-class-forname-è‡ªåŠ¨å®Œæˆæ³¨å†Œé©±åŠ¨-ç®€åŒ–ä»£ç " tabindex="-1"><a class="header-anchor" href="#_14-2-4-class-forname-è‡ªåŠ¨å®Œæˆæ³¨å†Œé©±åŠ¨-ç®€åŒ–ä»£ç " aria-hidden="true">#</a> 14.2.4 Class.forName è‡ªåŠ¨å®Œæˆæ³¨å†Œé©±åŠ¨ï¼Œç®€åŒ–ä»£ç </h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//1. æ³¨å†Œé©±åŠ¨â€”â€”åŠ è½½Driverç±»</span>
<span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2. è·å–è¿æ¥â€”â€”å¾—åˆ°Connection</span>
<span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql://localhost:13306/db01&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;dimitre123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> properties<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>mysqlå®ç°java.sqlçš„Driveræ¥å£æ—¶ï¼Œåˆ›å»ºäº†é™æ€ä»£ç å—ï¼Œè‡ªåŠ¨æ‰§è¡Œ<code>DriverManager.registerDriver(new Driver());</code></li><li>ä¸å†™<code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</code>ä¹Ÿä¼šæ­£å¸¸è¿è¡Œï¼Œæ˜¯å› ä¸ºjdk1.5ä¹‹åä½¿ç”¨äº†jdbc4ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨<code>â€¦â€¦\libs\mysql-connector-java-5.1.37-bin.jar!\META-INF\services\java.sql.Driver</code>æ–‡ä»¶ä¸­çš„ç±»åï¼ˆ<code>com.mysql.jdbc.Driver</code>ï¼‰å»æ³¨å†Œ</li></ul><h4 id="_14-2-5-ä½¿ç”¨é…ç½®æ–‡ä»¶è¯»å–è¿æ¥åœ°å€ç­‰ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_14-2-5-ä½¿ç”¨é…ç½®æ–‡ä»¶è¯»å–è¿æ¥åœ°å€ç­‰ä¿¡æ¯" aria-hidden="true">#</a> 14.2.5 ä½¿ç”¨é…ç½®æ–‡ä»¶è¯»å–è¿æ¥åœ°å€ç­‰ä¿¡æ¯</h4><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">user</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">password</span><span class="token punctuation">=</span><span class="token value attr-value">dimitre123</span>
<span class="token key attr-name">url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql://localhost:13306/hsp_db02</span>
<span class="token key attr-name">driver</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.jdbc.Driver</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;src\\mysql.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> user <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> password <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> driver <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> url <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//1. æ³¨å†Œé©±åŠ¨â€”â€”åŠ è½½Driverç±»</span>
<span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//2. è·å–è¿æ¥â€”â€”å¾—åˆ°Connection</span>
<span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> user<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_14-3-ç»“æœé›†-resultset" tabindex="-1"><a class="header-anchor" href="#_14-3-ç»“æœé›†-resultset" aria-hidden="true">#</a> 14.3 ç»“æœé›†ï¼ˆResultSetï¼‰</h3><ol><li>å«ä¹‰ï¼šæ‰§è¡ŒæŸ¥DQLè¯­å¥è¿”å›çš„æŸ¥è¯¢ç»“æœã€‚</li><li>ResultSetå¯¹è±¡ä¿æŒä¸€ä¸ªå…‰æ ‡æŒ‡å‘å…¶å½“å‰çš„æ•°æ®è¡Œï¼Œæœ€åˆå…‰æ ‡ä½äºç¬¬ä¸€è¡Œä¹‹å‰ï¼Œnextæ–¹æ³•å°†å…‰æ ‡ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œï¼Œå¹¶ä¸”ç”±äºå†ResultSetå¯¹è±¡ä¸­æ²¡æœ‰æ›´å¤šè¡Œæ—¶è¿”å›falseã€‚å¯ä»¥ä½¿ç”¨whileå¾ªç¯éå†ã€‚</li><li>ä½¿ç”¨ï¼š<code>ReultSet resultSet = statement.excuteQuery(sql);</code><ul><li>å…³é—­ç»“æœé›†ï¼š<code>resultSet.close();</code></li></ul></li><li>æ–¹æ³•ï¼š</li><li>åº•å±‚ï¼šResultSetæ˜¯ä¸ªæ¥å£ï¼Œåº•å±‚çš„æ•°æ®æ˜¯è¡¨æ˜¯ä¸€ä¸ªArrayList <ul><li><img src="/images/javase/java-3/image-1660813543071.png" alt="image.png" loading="lazy"></li></ul></li></ol><h3 id="_14-4-sqlæ³¨å…¥" tabindex="-1"><a class="header-anchor" href="#_14-4-sqlæ³¨å…¥" aria-hidden="true">#</a> 14.4 SQLæ³¨å…¥</h3><ol><li>å«ä¹‰ï¼šåˆ©ç”¨æŸäº›ç³»ç»Ÿæ²¡æœ‰å¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®è¿›è¡Œå……åˆ†çš„æ£€æŸ¥ï¼Œè€Œåœ¨ç”¨æˆ·è¾“å…¥æ•°æ®ä¸­æ³¨å…¥éæ³•çš„SQLè¯­å¥æ®µæˆ–å‘½ä»¤ï¼Œæ¶æ„æ”»å‡»æ•°æ®åº“ã€‚</li><li>è®¿é—®æ•°æ®åº“ã€æ‰§è¡Œsqlè¯­å¥çš„ä¸‰ç§æ–¹æ³•ï¼š <ul><li><code>Statement</code>å¯¹è±¡ã€å­˜åœ¨sqlæ³¨å…¥é—®é¢˜ã€‘</li><li><code>PreparedStatement</code>å¯¹è±¡ã€é¢„å¤„ç†ã€‘</li><li><code>CallableStatement</code>å¯¹è±¡ã€å­˜å‚¨è¿‡ç¨‹ã€‘</li></ul></li><li>ä¸‡èƒ½ç”¨æˆ·åï¼š<code>1&#39; or</code>ï¼Œä¸‡èƒ½å¯†ç ï¼š<code>or &#39;1&#39;=&#39;1&#39;</code></li></ol><h3 id="_14-5-preparedstatementé¢„å¤„ç†çš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_14-5-preparedstatementé¢„å¤„ç†çš„ä½¿ç”¨" aria-hidden="true">#</a> 14.5 PreparedStatementé¢„å¤„ç†çš„ä½¿ç”¨</h3><ol><li>PreparedStatementæ˜¯Statementçš„å­æ¥å£ï¼Œå¯ä»¥ä½¿ç”¨Statementçš„æ–¹æ³•ï¼ˆæ€ä¹ˆä½¿ç”¨çš„ï¼ŒStatementçš„æ–¹æ³•éƒ½æ˜¯æŠ½è±¡çš„ï¼Œæ˜¯å› ä¸ºåŠ è½½äº†JDBCjaråŒ…çš„åŸå› å—ï¼Ÿï¼‰ <ul><li><img src="/images/javase/java-3/image-1660813545901.png" alt="image.png" loading="lazy"></li></ul></li><li>è¯­æ³•å˜åŒ–ï¼š <ul><li>ä¹¦å†™sqlè¯­å¥ï¼ˆå®šä¹‰sqlå­—ç¬¦ä¸²ï¼‰ï¼šä½¿ç”¨<code>?</code>ä»£æ›¿å‚æ•°å€¼ï¼Œä½œä¸ºå ä½ç¬¦ã€‚ <ul><li><code>String sql = &quot;select name , pwd from admin where name =? and pwd = ?&quot;;</code></li></ul></li><li>åˆ›å»ºPreparedStatementå¯¹è±¡ï¼š<code>PreparedStatement preparedStatement = connection.prepareStatement(sql);</code><ul><li>Statementæ­¤æ—¶ä¸éœ€è¦ä¼ å…¥sqlè¯­å¥</li></ul></li><li>ä½¿ç”¨PreparedStatementçš„å¯¹è±¡ç»™sqlè¯­å¥çš„å ä½ç¬¦èµ‹å€¼ï¼šä½¿ç”¨<code>setXxx(int n, String str)</code><ul><li>nè¡¨ç¤º<code>?</code>åœ¨sqlè¯­å¥ä¸­ä»å·¦è‡³å³å‡ºç°çš„æ¬¡åºï¼Œä»1å¼€å§‹ã€‚</li><li>strè¡¨ç¤ºå‚æ•°å€¼ã€‚</li></ul></li><li>è°ƒç”¨<code>excuteUpade()</code>æˆ–<code>excuteQuery()</code>æ–¹æ³•ï¼Œè¿”å›ç»“æœé›†ã€‚ä¸éœ€è¦å†ä¼ å…¥sqlè¯­å¥å½“ä½œå‚æ•°ã€‚</li></ul></li><li>é¢„å¤„ç†å¥½å¤„ï¼š <ul><li>ä¸å†ä½¿ç”¨<code>+</code>æ‹¼æ¥sqlè¯­å¥ï¼Œå‡å°‘äº†è¯­æ³•é”™è¯¯ã€‚</li><li>æœ‰æ•ˆé¿å…äº†sqlæ³¨å…¥é—®é¢˜</li><li>å‡å°‘äº†ç¼–è¯‘æ¬¡æ•°ï¼Œæé«˜äº†æ•ˆç‡</li></ul></li></ol><h3 id="_14-6-jdbcäº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#_14-6-jdbcäº‹åŠ¡" aria-hidden="true">#</a> 14.6 JDBCäº‹åŠ¡</h3><h4 id="_14-6-1-jdbcäº‹åŠ¡ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_14-6-1-jdbcäº‹åŠ¡ä»‹ç»" aria-hidden="true">#</a> 14.6.1 JDBCäº‹åŠ¡ä»‹ç»</h4><ol><li>JDBCåˆ›å»ºä¸€ä¸ªConnectionå¯¹è±¡åï¼Œé»˜è®¤æ˜¯è‡ªåŠ¨æäº¤äº‹åŠ¡ï¼Œæ‰§è¡ŒæˆåŠŸåä¸èƒ½å›æ»šã€‚</li><li>è°ƒç”¨Connetcionå¯¹è±¡çš„<code>setAutoCommit(false)</code>å¯ä»¥å–æ¶ˆè‡ªåŠ¨æäº¤äº‹åŠ¡ã€‚</li><li>è°ƒç”¨Connetcionå¯¹è±¡çš„<code>commit()</code>å¯ä»¥æäº¤äº‹åŠ¡ã€‚</li><li>è°ƒç”¨Connetcionå¯¹è±¡çš„<code>rollback()</code>å¯ä»¥å›æ»šäº‹åŠ¡ã€‚</li></ol><h4 id="_14-6-2-åº”ç”¨åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#_14-6-2-åº”ç”¨åœºæ™¯" aria-hidden="true">#</a> 14.6.2 åº”ç”¨åœºæ™¯</h4><ol><li>é“¶è¡Œè½¬è´¦ã€‚</li></ol><h3 id="_14-7-æ‰¹å¤„ç†-batch" tabindex="-1"><a class="header-anchor" href="#_14-7-æ‰¹å¤„ç†-batch" aria-hidden="true">#</a> 14.7 æ‰¹å¤„ç†ï¼ˆbatchï¼‰</h3><h4 id="_14-7-1-æ‰¹å¤„ç†ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_14-7-1-æ‰¹å¤„ç†ä»‹ç»" aria-hidden="true">#</a> 14.7.1 æ‰¹å¤„ç†ä»‹ç»</h4><ol><li>javaçš„æ‰¹é‡æ›´æ–°æœºåˆ¶å…è®¸å¤šæ¡è¯­å¥ä¸€æ¬¡æ€§æäº¤ç»™æ•°æ®åº“å¤„ç†ï¼Œæé«˜å¤„ç†æ•ˆç‡ã€‚ç›¸å½“äºå…¬äº¤è½¦æ‹‰ä¸€è½¦äººã€‚</li><li>æ‰¹å¤„ç†æ–¹æ³•ï¼ˆstatementå¯¹è±¡è°ƒç”¨ï¼‰ï¼š <ul><li><code>addBatch()</code>ï¼šæ·»åŠ éœ€è¦æ‰¹å¤„ç†çš„SQLè¯­å¥æˆ–å‚æ•°</li><li><code>excuteBatch()</code>ï¼šæ‰§è¡Œæ‰¹å¤„ç†è¯­å¥</li><li><code>clearBatch()</code>ï¼šæ¸…ç©ºæ‰¹å¤„ç†åŒ…çš„è¯­å¥</li></ul></li><li>ä½¿ç”¨ï¼š <ul><li>urlæ·»åŠ å‚æ•°<code>?rewriteBatchedStatements=true</code></li></ul></li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token class-name">JDBCUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;insert into admin2 values(null, ?, ?)&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//5000æ‰§è¡Œ</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;jack&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;666&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">addBatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">1000</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">executeBatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">clearBatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
preparedStatement<span class="token punctuation">.</span><span class="token function">executeBatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é¿å…æ²¡åˆ°1000æ¡çš„æ•°æ®å­˜åœ¨é—æ¼</span>
<span class="token class-name">JDBCUtils</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> preparedStatement<span class="token punctuation">,</span> connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>æºç åˆ†æï¼š <ul><li>æ‰§è¡Œ<code>addBatch()</code>ä¼šåˆ›å»º ArrayList - elementData =&gt; Object[]</li><li>elementData =&gt; Object[] å°±ä¼šå­˜æ”¾æˆ‘ä»¬é¢„å¤„ç†çš„sqlè¯­å¥</li><li>å½“elementDataæ»¡å,å°±æŒ‰ç…§1.5æ‰©å®¹</li><li>å½“æ·»åŠ åˆ°æŒ‡å®šçš„å€¼åï¼Œå°±executeBatchæ‰¹é‡å¤„ç†ä¼šå‡å°‘æˆ‘ä»¬å‘é€sqlè¯­å¥çš„ç½‘ç»œå¼€é”€ï¼Œè€Œä¸”å‡å°‘ç¼–è¯‘æ¬¡æ•°ï¼Œå› æ­¤æ•ˆç‡æé«˜</li></ul></li></ol><h3 id="_14-8-æ•°æ®åº“è¿æ¥æ± " tabindex="-1"><a class="header-anchor" href="#_14-8-æ•°æ®åº“è¿æ¥æ± " aria-hidden="true">#</a> 14.8 æ•°æ®åº“è¿æ¥æ± </h3><h4 id="_14-8-1-ä¼ ç»Ÿæ–¹å¼è¿æ¥æ•°æ®åº“çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_14-8-1-ä¼ ç»Ÿæ–¹å¼è¿æ¥æ•°æ®åº“çš„é—®é¢˜" aria-hidden="true">#</a> 14.8.1 ä¼ ç»Ÿæ–¹å¼è¿æ¥æ•°æ®åº“çš„é—®é¢˜</h4><ol><li>ä¼ ç»ŸJDBCè¿æ¥æ•°æ®åº“ä½¿ç”¨DriverManageræ¥è·å–ï¼Œæ¯æ¬¡å‘æ•°æ®åº“ç®€å†è¿æ¥æ—¶ï¼Œéœ€è¦å°†ConnectionåŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå†éªŒè¯ipåœ°å€ã€ç”¨æˆ·åã€å¯†ç ï¼ˆ0.05~1sæ—¶é—´ï¼‰ï¼Œé¢‘ç¹è¿›è¡Œæ•°æ®åº“è¿æ¥æ“ä½œä¼šå ç”¨ç³»ç»Ÿèµ„æºï¼Œå¯¼è‡´æœåŠ¡å™¨å´©æºƒã€‚</li><li>æ¯æ¬¡è¿æ¥æ•°æ®åº“æ“ä½œåï¼Œä½¿ç”¨ç»“æŸéƒ½åº”æ–­å¼€ï¼Œå¦‚æœç¨‹åºå‡ºç°å¼‚å¸¸è€Œæœªå…³é—­ï¼Œå°†å¯¼è‡´æ•°æ®åº“å†…å­˜æ³„æ¼ï¼Œå¯¼è‡´æ•°æ®åº“é‡å¯</li><li>ä¼ ç»Ÿè¿æ¥æ–¹å¼ï¼Œä¸èƒ½æ§åˆ¶åˆ›å»ºçš„è¿æ¥æ•°é‡ï¼Œå¦‚æœè¿æ¥è¿‡å¤šï¼Œä¹Ÿå¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œmysqlå´©æºƒ</li><li>ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ï¼ˆconnection poolï¼‰æŠ€æœ¯ï¼Œå¯ä»¥è§£å†³ä¸Šè¿°é—®é¢˜ã€‚</li></ol><h4 id="_14-8-2-æ•°æ®åº“è¿æ¥æ± ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_14-8-2-æ•°æ®åº“è¿æ¥æ± ä»‹ç»" aria-hidden="true">#</a> 14.8.2 æ•°æ®åº“è¿æ¥æ± ä»‹ç»</h4><ol><li>é¢„å…ˆå†ç¼“å†²æ± ä¸­æ”¾å…¥ä¸€å®šæ•°é‡çš„è¿æ¥ï¼Œå½“éœ€è¦å»ºç«‹æ•°æ®åº“è¿æ¥æ—¶ï¼Œåªéœ€ä»â€œç¼“å†²æ± â€å–å‡ºè¿æ¥ï¼Œä½¿ç”¨å®Œæ¯•åæ”¾å›åˆ°â€œç¼“å†²æ± â€</li><li>æ•°æ®åº“è¿æ¥æ± è´Ÿè´£åˆ†é…ã€ç®¡ç†ã€é‡Šæ”¾æ•°æ®åº“çš„è¿æ¥ï¼Œå®ƒå…è®¸ç”¨ç”¨ç¨‹åºé‡å¤ä½¿ç”¨ä¸€ä¸ªç°æœ‰çš„æ•°æ®åº“è¿æ¥ï¼Œè€Œä¸ç”¨é‡æ–°å»ºç«‹ã€‚</li><li>å½“åº”ç”¨ç¨‹åºå‘è¿æ¥æ± è¯·æ±‚çš„è¿æ¥æ•°é‡è¶…è¿‡æœ€å¤§è¿æ¥æ•°é‡æ—¶ï¼Œè¿™äº›è¯·æ±‚ä¼šè¢«åŠ å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—ä¸­ã€‚</li><li>JDBCçš„æ•°æ®åº“è¿æ¥æ± ä½¿ç”¨<code>javax.sql.DataSource</code>è¡¨ç¤ºï¼ŒDataSourceæ˜¯ä¸€ä¸ªæ¥å£ï¼Œè¯¥æ¥å£ç”±ç¬¬ä¸‰æ–¹æä¾›å®ç°ã€æä¾›.jarã€‘</li><li>æ•°æ®åº“è¿æ¥æ± ç§ç±»ï¼š <ul><li>C3P0ï¼šé€Ÿåº¦è¾ƒæ…¢ï¼Œç¨³å®šæ€§å¥½</li><li>DBCPï¼šé€Ÿåº¦è¾ƒå¿«ï¼Œä½†ä¸ç¨³å®š</li><li>Proxoolï¼šæœ‰ç›‘æ§è¿æ¥æ± çŠ¶æ€çš„åŠŸèƒ½ï¼Œç¨³å®šæ€§ä¸å¦‚C3P0</li><li>BoneCPï¼šé€Ÿåº¦å¿«</li><li>Druidï¼ˆå¾·é²ä¼Šï¼‰ï¼šé˜¿é‡Œæä¾›ï¼Œå…·æœ‰DBCPã€C3P0ã€Proxoolä¼˜ç‚¹</li></ul></li></ol><h4 id="_14-8-3-c3p0ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_14-8-3-c3p0ä½¿ç”¨" aria-hidden="true">#</a> 14.8.3 C3P0ä½¿ç”¨</h4><ol><li>å°†c3p0çš„jaråŒ…æ·»åŠ åˆ°å¼€å‘ç¯å¢ƒï¼ŒåŒjdbcã€‚</li><li>è¿æ¥æ–¹å¼ä¸€ï¼š</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//1. åˆ›å»ºä¸€ä¸ªæ•°æ®æºå¯¹è±¡</span>
<span class="token class-name">ComboPooledDataSource</span> comboPooledDataSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComboPooledDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2. é€šè¿‡é…ç½®æ–‡ä»¶mysql.properties è·å–ç›¸å…³è¿æ¥çš„ä¿¡æ¯</span>
<span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;src\\mysql.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> user <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> password <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> url <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> driver <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//ç»™æ•°æ®æº comboPooledDataSource è®¾ç½®ç›¸å…³çš„å‚æ•°</span>
comboPooledDataSource<span class="token punctuation">.</span><span class="token function">setDriverClass</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
comboPooledDataSource<span class="token punctuation">.</span><span class="token function">setJdbcUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
comboPooledDataSource<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
comboPooledDataSource<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//è®¾ç½®åˆå§‹åŒ–è¿æ¥æ•°</span>
comboPooledDataSource<span class="token punctuation">.</span><span class="token function">setInitialPoolSize</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//æœ€å¤§è¿æ¥æ•°</span>
comboPooledDataSource<span class="token punctuation">.</span><span class="token function">setMaxPoolSize</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//æµ‹è¯•è¿æ¥æ± çš„æ•ˆç‡, æµ‹è¯•å¯¹mysql 5000æ¬¡æ“ä½œ</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Connection</span> connection <span class="token operator">=</span> comboPooledDataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>è¿æ¥æ–¹å¼äºŒï¼šä½¿ç”¨c3p0çš„é…ç½®æ–‡ä»¶ï¼ˆæ•´åˆäº†ç™»å½•åã€ç”¨æˆ·å¯†ç ã€è¿æ¥åœ°å€ã€è®¾ç½®äº†è¿æ¥æ•°é‡ç­‰ï¼‰ï¼Œæ”¾åˆ°srcè·¯å¾„ä¸‹</li></ol><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>c3p0-config</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>named-config</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- æ•°æ®æºåç§°ï¼Œå¯ä»¥ä»»æ„ --&gt;</span>
    <span class="token comment">&lt;!-- é©±åŠ¨ç±»ï¼Œè·Ÿæ•°æ®åº“ç›¸å…³ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driverClass<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>com.mysql.jdbc.Driver<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- url--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbcUrl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>jdbc:mysql://127.0.0.1:3306/girls<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ç”¨æˆ·å --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>root<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- å¯†ç  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>root<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- æ¯æ¬¡å¢é•¿çš„è¿æ¥æ•°--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>acquireIncrement<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- åˆå§‹çš„è¿æ¥æ•° --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initialPoolSize<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- æœ€å°è¿æ¥æ•° --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>minPoolSize<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- æœ€å¤§è¿æ¥æ•° --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maxPoolSize<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- å¯è¿æ¥çš„æœ€å¤šçš„å‘½ä»¤å¯¹è±¡æ•° --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maxStatements<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span> 
    <span class="token comment">&lt;!-- æ¯ä¸ªè¿æ¥å¯¹è±¡å¯è¿æ¥çš„æœ€å¤šçš„å‘½ä»¤å¯¹è±¡æ•° --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maxStatementsPerConnection<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>named-config</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>c3p0-config</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>
<span class="token class-name">ComboPooledDataSource</span> comboPooledDataSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComboPooledDataSource</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//æµ‹è¯•5000æ¬¡è¿æ¥mysql</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">500000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Connection</span> connection <span class="token operator">=</span> comboPooledDataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_14-8-4-druidä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_14-8-4-druidä½¿ç”¨" aria-hidden="true">#</a> 14.8.4 Druidä½¿ç”¨</h4><p><img src="https://cdn.nlark.com/yuque/0/2022/png/1604140/1656325855512-4881c7ae-2b44-4ffd-a2e1-6ee955c962b1.png#clientId=uaf046232-8b05-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;height=54&amp;id=u3c51dba8&amp;margin=[object Object]&amp;name=image.png&amp;originHeight=54&amp;originWidth=635&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=8940&amp;status=done&amp;style=none&amp;taskId=u1a983deb-461c-4d31-bbd6-0c7b64ba3e7&amp;title=&amp;width=635" alt="image.png" loading="lazy"></p><ol><li>å°†Druidçš„jaråŒ…æ·»åŠ åˆ°å¼€å‘ç¯å¢ƒï¼ŒåŒjdbcã€‚</li></ol><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token comment">#key=value</span>
<span class="token key attr-name">driverClassName</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.jdbc.Driver</span>
<span class="token key attr-name">url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql://localhost:3306/girls?rewriteBatchedStatements=true</span>
<span class="token comment">#url=jdbc:mysql://localhost:3306/girls</span>
<span class="token key attr-name">username</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">password</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token comment">#initial connection Size</span>
<span class="token key attr-name">initialSize</span><span class="token punctuation">=</span><span class="token value attr-value">10</span>
<span class="token comment">#min idle connecton size</span>
<span class="token key attr-name">minIdle</span><span class="token punctuation">=</span><span class="token value attr-value">5</span>
<span class="token comment">#max active connection size</span>
<span class="token key attr-name">maxActive</span><span class="token punctuation">=</span><span class="token value attr-value">20</span>
<span class="token comment">#max wait time (5000 mil seconds)</span>
<span class="token key attr-name">maxWait</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;src\\druid.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">DataSource</span> dataSource <span class="token operator">=</span> <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">500000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Connection</span> connection <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_14-9-apacheä¹‹dbutils" tabindex="-1"><a class="header-anchor" href="#_14-9-apacheä¹‹dbutils" aria-hidden="true">#</a> 14.9 Apacheä¹‹DBUtils</h3><h4 id="_14-9-1-åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_14-9-1-åŸºæœ¬ä»‹ç»" aria-hidden="true">#</a> 14.9.1 åŸºæœ¬ä»‹ç»</h4><ol><li>commons-dbutilsæ˜¯Apacheç»„ç»‡æä¾›çš„ä¸€ä¸ªå¼€æºJDBCå·¥å…·ç±»åº“ï¼Œå®ƒæ˜¯å¯¹JDBCçš„å°è£…ã€‚ç®€åŒ–Daoå±‚çš„æ“ä½œã€‚</li><li>æ ‘ç»“æ„ï¼š<img src="/images/javase/java-3/image-1660813554861.png" alt="image.png" loading="lazy"></li><li>ä½œç”¨ï¼šå°†æ•°æ®åº“æŸ¥è¯¢å¾—åˆ°çš„æ•°æ®æ”¾åˆ°ä¸€ä¸ªArrayListä¸­ï¼Œå³ä½¿è¿æ¥å…³é—­äº†ï¼Œä¹Ÿèƒ½ä½¿ç”¨è¿™äº›æ•°æ®ã€‚ï¼ˆæ­£å¸¸æƒ…å†µä¸‹è¿æ¥å…³é—­ï¼Œå°±è®¿é—®ä¸åˆ°è¿™äº›æ•°æ®ï¼‰ã€‚</li><li>ä½¿ç”¨æ­¥éª¤ï¼š <ul><li>å¾—åˆ°è¿æ¥ï¼ˆä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ç­‰æ–¹å¼ï¼‰</li><li>å°†common-dbutilsåŠ å…¥åº“æ–‡ä»¶</li><li>åˆ›å»ºQueryRunnerçš„å¯¹è±¡<code>QueryRunner queryRunner = new QueryRunner()</code></li><li>æ‰§è¡ŒDQLï¼Œè¿”å›ArrayListç»“æœé›† <ul><li>è¿”å›å¤šä¸ªå¯¹è±¡ï¼ˆæŸ¥è¯¢å¤šè¡Œï¼‰ï¼šqueryRunner.query(connection, sql, new BeanListHandler&lt;&gt;(ç±»å.class)</li><li>è¿”å›å•ä¸ªå¯¹è±¡ï¼ˆæŸ¥è¯¢å•è¡Œï¼‰ï¼šqueryRunner.query(connection, sql, new BeanHandler&lt;&gt;(ç±»å.class)</li><li>è¿”å›å•è¡Œå•åˆ—å¯¹è±¡ï¼ˆå¯¹è±¡ç±»å‹ä¸ºObjectï¼‰ï¼šqueryRunner.query(connection, sql, new ScalarHandler&lt;&gt;()</li></ul></li><li>æ‰§è¡ŒDMLï¼Œè¿”å›å—å½±å“çš„è¡Œæ•°ã€‚ <ul><li>queryRunner.update(connection, sql, ?çš„å€¼)</li></ul></li></ul></li><li>åº•å±‚åˆ†æï¼š <ul><li>è°ƒç”¨query()æ–¹æ³•æ—¶ï¼Œåº•å±‚ä¼šåˆ›å»ºPreparedStatementã€ResultSetã€ ä¸€ä¸ªæ¥æ”¶ç»“æœçš„Objectå¯¹è±¡</li><li>åº•å±‚è°ƒç”¨handle(æŸ¥è¯¢ç»“æœ)ï¼Œåˆ©ç”¨åå°„æœºåˆ¶å°†æŸ¥è¯¢åˆ°çš„ç»“æœä¼ å…¥åˆ°Objectå¯¹è±¡é‡Œ</li><li>æ‰§è¡Œå®Œæ¯•å…³é—­ç»“æœé›†ã€statement</li></ul></li><li>ResultSetSHandleræ¥å£å®ç°ç±»çš„ä¸»è¦ä½œç”¨ï¼šResultSetSHandlerç”¨äºå¤„ç†java.sql.ResultSetï¼Œå°†æ•°æ®æŒ‰è¦æ±‚è½¬æ¢ä¸ºå¦ä¸€ç§å½¢å¼ã€‚ <ul><li><img src="/images/javase/java-3/image-1660813562406.png" alt="image.png" loading="lazy"></li><li><img src="/images/javase/java-3/image-1660813564055.png" alt="image.png" loading="lazy"></li></ul></li></ol><h4 id="_14-9-2-æ¨¡ä»¿dbutils-ç†è§£åŸç†" tabindex="-1"><a class="header-anchor" href="#_14-9-2-æ¨¡ä»¿dbutils-ç†è§£åŸç†" aria-hidden="true">#</a> 14.9.2 æ¨¡ä»¿dbutilsï¼Œç†è§£åŸç†</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Actor</span><span class="token punctuation">&gt;</span></span> <span class="token function">testSelectToArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//1. å¾—åˆ°è¿æ¥</span>
    <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token comment">//2. ç»„ç»‡ä¸€ä¸ªsql</span>
    <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select * from actor where id &gt;= ?&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token class-name">ResultSet</span> set <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Actor</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆ›å»ºArrayList å¯¹è±¡,å­˜æ”¾actor å¯¹è±¡</span>
    <span class="token comment">//3. åˆ›å»ºPreparedStatement å¯¹è±¡</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        connection <span class="token operator">=</span> <span class="token class-name">JDBCUtilsByDruid</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
        preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç»™?å·èµ‹å€¼</span>
        <span class="token comment">//æ‰§è¡Œ, å¾—åˆ°ç»“æœé›†</span>
        set <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//éå†è¯¥ç»“æœé›†</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> id <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> name <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//getName()</span>
            <span class="token class-name">String</span> sex <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;sex&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//getSex()</span>
            <span class="token class-name">Date</span> borndate <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token string">&quot;borndate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> phone <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;phone&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//æŠŠå¾—åˆ°çš„resultset çš„è®°å½•ï¼Œå°è£…åˆ°Actor å¯¹è±¡ï¼Œæ”¾å…¥åˆ°list é›†åˆ</span>
            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Actor</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> borndate<span class="token punctuation">,</span> phone<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;list é›†åˆæ•°æ®=&quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Actor</span> actor <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;id=&quot;</span> <span class="token operator">+</span> actor<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> actor<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        <span class="token comment">//å…³é—­èµ„æº</span>
        <span class="token class-name">JDBCUtilsByDruid</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>set<span class="token punctuation">,</span> preparedStatement<span class="token punctuation">,</span> connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//å› ä¸ºArrayList å’Œconnection æ²¡æœ‰ä»»ä½•å…³è”ï¼Œæ‰€ä»¥è¯¥é›†åˆå¯ä»¥å¤ç”¨.</span>
    <span class="token keyword">return</span> list<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_14-10-daoå’Œå¢åˆ æ”¹æŸ¥æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_14-10-daoå’Œå¢åˆ æ”¹æŸ¥æ–¹æ³•" aria-hidden="true">#</a> 14.10 Daoå’Œå¢åˆ æ”¹æŸ¥æ–¹æ³•</h3><h4 id="_14-10-1-daoå±‚åŠbasicdao-ä¸æ•°æ®åº“çš„ç›¸å…³æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_14-10-1-daoå±‚åŠbasicdao-ä¸æ•°æ®åº“çš„ç›¸å…³æ“ä½œ" aria-hidden="true">#</a> 14.10.1 Daoå±‚åŠBasicDaoï¼šä¸æ•°æ®åº“çš„ç›¸å…³æ“ä½œ</h4><ol><li>Daoï¼šdata access objectï¼šæ•°æ®è®¿é—®å¯¹è±¡ <ul><li>Daoä¸­çš„æ–¹æ³•å‡ä¸ºâ€å•ç²¾åº¦æ–¹æ³•â€œâ€”â€”ä¸€ä¸ªæ–¹æ³•åªå¹²ä¸€ä»¶äº‹ã€‚</li><li>Serviceå±‚ä¸­çš„æ–¹æ³•å¯ä»¥æ˜¯â€éå•ç²¾åº¦æ–¹æ³•â€œï¼Œä¸€ä¸ªæ–¹æ³•å¯ä»¥å¹²å¥½å‡ ä»¶äº‹ã€‚</li><li>å¦‚Daoä¸­çš„æ·»åŠ åªæ˜¯æ·»åŠ ï¼ŒServiceå±‚ä¸­çš„æ·»åŠ è¿˜æœ‰å…ˆæŸ¥è¯¢ï¼ˆåˆ¤æ–­æ˜¯å¦é‡å¤ï¼‰çš„åŠŸèƒ½ï¼Œç„¶åæ‰æ˜¯æ·»åŠ ã€‚</li></ul></li><li>æ ¹æ®æ•°æ®è®¿é—®å¯¹è±¡è®¾è®¡çš„ç±»å«Daoï¼Œé«˜åº¦æŠ½è±¡çš„è¯¥ç±»å«BasicDaoã€‚</li><li>åœ¨BasicDaoçš„åŸºç¡€ä¸Šï¼Œè®¾è®¡ç»§æ‰¿è‡ªå…¶çš„å®ç°ç‰¹å®šä¸æ•°æ®åº“æ“ä½œçš„Daoç±»ï¼Œå¯ä»¥æ›´å¥½å®Œæˆå¼€å‘ä»»åŠ¡ã€‚</li></ol><p><img src="/images/javase/java-3/image-1660813567265.png" alt="image.png" loading="lazy"><img src="/images/javase/java-3/image-1660813571004.png" alt="image.png" loading="lazy"></p><ol start="4"><li>BasicDaoï¼šå¯ä»¥è®¾è®¡æˆç±»ã€ä¹Ÿå¯ä»¥è®¾è®¡æˆæ¥å£</li></ol><h4 id="_14-10-2-domain-javabean-pojoå±‚-æ•°æ®åº“å¯¹åº”çš„javaç±»" tabindex="-1"><a class="header-anchor" href="#_14-10-2-domain-javabean-pojoå±‚-æ•°æ®åº“å¯¹åº”çš„javaç±»" aria-hidden="true">#</a> 14.10.2 domain/JavaBean/pojoå±‚ï¼šæ•°æ®åº“å¯¹åº”çš„javaç±»</h4><h4 id="_14-10-3-serviceå±‚-å…·ä½“ä¸šåŠ¡å±‚" tabindex="-1"><a class="header-anchor" href="#_14-10-3-serviceå±‚-å…·ä½“ä¸šåŠ¡å±‚" aria-hidden="true">#</a> 14.10.3 serviceå±‚ï¼šå…·ä½“ä¸šåŠ¡å±‚</h4><h4 id="_14-10-3-viewå±‚-é¡µé¢å±‚" tabindex="-1"><a class="header-anchor" href="#_14-10-3-viewå±‚-é¡µé¢å±‚" aria-hidden="true">#</a> 14.10.3 viewå±‚ï¼šé¡µé¢å±‚</h4><h3 id="_14-11-å°è£…jdbcå·¥å…·ç±»åŠä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_14-11-å°è£…jdbcå·¥å…·ç±»åŠä½¿ç”¨" aria-hidden="true">#</a> 14.11 å°è£…JDBCå·¥å…·ç±»åŠä½¿ç”¨</h3><h4 id="_14-11-1-å°è£…æ•°æ®åº“è¿æ¥åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_14-11-1-å°è£…æ•°æ®åº“è¿æ¥åŠŸèƒ½" aria-hidden="true">#</a> 14.11.1 å°è£…æ•°æ®åº“è¿æ¥åŠŸèƒ½</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCUtils</span> <span class="token punctuation">{</span>
    <span class="token comment">//å®šä¹‰ç›¸å…³çš„å±æ€§(4ä¸ª), å› ä¸ºåªéœ€è¦ä¸€ä»½ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åšå‡ºstatic</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> user<span class="token punctuation">;</span> <span class="token comment">//ç”¨æˆ·å</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span> <span class="token comment">//å¯†ç </span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span> <span class="token comment">//url</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> driver<span class="token punctuation">;</span> <span class="token comment">//é©±åŠ¨å</span>

    <span class="token comment">//åœ¨staticä»£ç å—åˆå§‹åŒ–</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;src\\mysql.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            user <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            password <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            url <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            driver <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//è¿æ¥æ•°æ®åº“, è¿”å›Connection</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> user<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//å…³é—­ç›¸å…³èµ„æº</span>
    <span class="token comment">/*
        1. ResultSet ç»“æœé›†
        2. Statement æˆ–è€… PreparedStatement
        3. Connection
        4. å¦‚æœéœ€è¦å…³é—­èµ„æºï¼Œå°±ä¼ å…¥å¯¹è±¡ï¼Œå¦åˆ™ä¼ å…¥ null
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token class-name">ResultSet</span> set<span class="token punctuation">,</span> <span class="token class-name">Statement</span> statement<span class="token punctuation">,</span> <span class="token class-name">Connection</span> connection<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>set <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                set<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>statement <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                statement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>connection <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">user</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">password</span><span class="token punctuation">=</span><span class="token value attr-value">dimitre123</span>
<span class="token key attr-name">url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql://localhost:13306/hsp_db02</span>
<span class="token key attr-name">driver</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.jdbc.Driver</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_14-11-2-ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_14-11-2-ä½¿ç”¨" aria-hidden="true">#</a> 14.11.2 ä½¿ç”¨</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCUtils_Use</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//select</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select * from actor where id = ?&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> set <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            connection <span class="token operator">=</span> <span class="token class-name">JDBCUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            set <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> id <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> name <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> sex <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;sex&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Date</span> borndate <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token string">&quot;borndate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> phone <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;phone&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>id <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> sex <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> borndate <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> phone<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token class-name">JDBCUtils</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>set<span class="token punctuation">,</span> preparedStatement<span class="token punctuation">,</span> connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testDML</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//insert , update, delete</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;update actor set name = ? where id = ?&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            connection <span class="token operator">=</span> <span class="token class-name">JDBCUtils</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;å‘¨æ˜Ÿé©°&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            preparedStatement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token class-name">JDBCUtils</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> preparedStatement<span class="token punctuation">,</span> connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_14-11-3-å°è£…æˆdruidå·¥å…·ç±»â€”â€”å°†è¿æ¥åŠŸèƒ½ä½¿ç”¨çº¿ç¨‹æ± å®ç°" tabindex="-1"><a class="header-anchor" href="#_14-11-3-å°è£…æˆdruidå·¥å…·ç±»â€”â€”å°†è¿æ¥åŠŸèƒ½ä½¿ç”¨çº¿ç¨‹æ± å®ç°" aria-hidden="true">#</a> 14.11.3 å°è£…æˆDruidå·¥å…·ç±»â€”â€”å°†è¿æ¥åŠŸèƒ½ä½¿ç”¨çº¿ç¨‹æ± å®ç°</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>hspedu<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span>datasource</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span><span class="token class-name">DruidDataSourceFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DataSource</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Statement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCUtilsByDruid</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">DataSource</span> ds<span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;src\\druid.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ds <span class="token operator">=</span> <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ds<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token class-name">ResultSet</span> resultSet<span class="token punctuation">,</span> <span class="token class-name">Statement</span> statement<span class="token punctuation">,</span> <span class="token class-name">Connection</span> connection<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>resultSet <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                resultSet<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>statement <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                statement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>connection <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token comment">#key=value</span>
<span class="token key attr-name">driverClassName</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.jdbc.Driver</span>
<span class="token key attr-name">url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql://localhost:3306/girls?rewriteBatchedStatements=true</span>
<span class="token comment">#url=jdbc:mysql://localhost:3306/æ•°æ®åº“å?rewâ€¦â€¦è¡¨ç¤ºæ‰¹å¤„ç†</span>
<span class="token key attr-name">username</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">password</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token comment">#initial connection Size</span>
<span class="token key attr-name">initialSize</span><span class="token punctuation">=</span><span class="token value attr-value">10</span>
<span class="token comment">#min idle connecton size</span>
<span class="token key attr-name">minIdle</span><span class="token punctuation">=</span><span class="token value attr-value">5</span>
<span class="token comment">#max active connection size</span>
<span class="token key attr-name">maxActive</span><span class="token punctuation">=</span><span class="token value attr-value">20</span>
<span class="token comment">#max wait time (5000 mil seconds)</span>
<span class="token key attr-name">maxWait</span><span class="token punctuation">=</span><span class="token value attr-value">5000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_14-11-4-ä½¿ç”¨druidå·¥å…·ç±»" tabindex="-1"><a class="header-anchor" href="#_14-11-4-ä½¿ç”¨druidå·¥å…·ç±»" aria-hidden="true">#</a> 14.11.4 ä½¿ç”¨Druidå·¥å…·ç±»</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JDBCUtilsByDruid_USE</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä½¿ç”¨ druidæ–¹å¼å®Œæˆ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//1. å¾—åˆ°è¿æ¥</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token comment">//2. ç»„ç»‡ä¸€ä¸ªsql</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select * from actor where id &gt;= ?&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> set <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token comment">//3. åˆ›å»ºPreparedStatement å¯¹è±¡</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            connection <span class="token operator">=</span> <span class="token class-name">JDBCUtilsByDruid</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>connection<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿è¡Œç±»å‹ com.alibaba.druid.pool.DruidPooledConnection</span>
            preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç»™?å·èµ‹å€¼</span>
            <span class="token comment">//æ‰§è¡Œ, å¾—åˆ°ç»“æœé›†</span>
            set <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> id <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> name <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//getName()</span>
                <span class="token class-name">String</span> sex <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;sex&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//getSex()</span>
                <span class="token class-name">Date</span> borndate <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token string">&quot;borndate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> phone <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;phone&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>id <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> sex <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> borndate <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> phone<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token class-name">JDBCUtilsByDruid</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>set<span class="token punctuation">,</span> preparedStatement<span class="token punctuation">,</span> connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>JDBCUtilsByDruidçš„connectionç±»å‹æ˜¯DruidPooledConnectionï¼Œå½“connectionå…³é—­æ—¶ï¼Œåªæ˜¯å°†è¿æ¥çš„å¼•ç”¨æ–­å¼€ï¼Œè¿æ¥è¿˜æ˜¯åœ¨è¿æ¥æ± å†…ã€‚</li><li>JDBCUtilsçš„connectionç±»å‹æ˜¯JDBC4connectionï¼Œå½“connectionå…³é—­æ—¶ï¼Œå°±çœŸæ­£å®ç°äº†è¿æ¥çš„å…³é—­ã€‚</li></ul><h4 id="_14-11-5-å°è£…dbutilsâ€”â€”å®ç°å…³é—­è¿æ¥ä¹Ÿèƒ½ä½¿ç”¨æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_14-11-5-å°è£…dbutilsâ€”â€”å®ç°å…³é—­è¿æ¥ä¹Ÿèƒ½ä½¿ç”¨æ•°æ®" aria-hidden="true">#</a> 14.11.5 å°è£…DBUtilsâ€”â€”å®ç°å…³é—­è¿æ¥ä¹Ÿèƒ½ä½¿ç”¨æ•°æ®</h4><h2 id="ç¬¬15ç« -æ­£åˆ™è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#ç¬¬15ç« -æ­£åˆ™è¡¨è¾¾å¼" aria-hidden="true">#</a> ç¬¬15ç«  æ­£åˆ™è¡¨è¾¾å¼</h2><p><a href="https://www.yuque.com/attachments/yuque/0/2022/txt/1604140/1656599308654-6972a374-338e-4c72-b6f1-b888b5aa49ea.txt" target="_blank" rel="noopener noreferrer">å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼.txt<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="_15-1-åŸºæœ¬ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_15-1-åŸºæœ¬ä»‹ç»" aria-hidden="true">#</a> 15.1 åŸºæœ¬ä»‹ç»</h3><ol><li>ç”¨æŸç§æ¨¡å¼å»åŒ¹é…å­—ç¬¦ä¸²çš„ä¸€ä¸ªå…¬å¼ã€‚</li></ol><h3 id="_15-2-å¿«é€Ÿå…¥é—¨" tabindex="-1"><a class="header-anchor" href="#_15-2-å¿«é€Ÿå…¥é—¨" aria-hidden="true">#</a> 15.2 å¿«é€Ÿå…¥é—¨</h3><h3 id="_15-2-åº•å±‚å®ç°" tabindex="-1"><a class="header-anchor" href="#_15-2-åº•å±‚å®ç°" aria-hidden="true">#</a> 15.2 åº•å±‚å®ç°</h3></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/sk370/edit/main/demo/src/javase/java-3.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><!----><!----></footer><nav class="page-nav"><a href="/javase/java-2.html" class="nav-link prev" aria-label="Javaè¯­è¨€åŸºç¡€ï¼ˆä¸­ï¼‰"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><span class="icon iconfont icon-creative"></span>Javaè¯­è¨€åŸºç¡€ï¼ˆä¸­ï¼‰</div></a><!----></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">é»˜è®¤é¡µè„š</div><div class="copyright">Copyright Â© 2022 æœ±å®‡ç¦</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.b5795010.js" defer></script>
  </body>
</html>
